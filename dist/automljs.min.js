(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.aml=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";module.exports=asPromise;function asPromise(fn,ctx){var params=new Array(arguments.length-1),offset=0,index=2,pending=true;while(index<arguments.length)params[offset++]=arguments[index++];return new Promise(function executor(resolve,reject){params[offset]=function callback(err){if(pending){pending=false;if(err)reject(err);else{var params=new Array(arguments.length-1),offset=0;while(offset<params.length)params[offset++]=arguments[offset];resolve.apply(null,params)}}};try{fn.apply(ctx||null,params)}catch(err){if(pending){pending=false;reject(err)}}})}},{}],2:[function(require,module,exports){"use strict";var base64=exports;base64.length=function length(string){var p=string.length;if(!p)return 0;var n=0;while(--p%4>1&&string.charAt(p)==="=")++n;return Math.ceil(string.length*3)/4-n};var b64=new Array(64);var s64=new Array(123);for(var i=0;i<64;)s64[b64[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;base64.encode=function encode(buffer,start,end){var parts=null,chunk=[];var i=0,j=0,t;while(start<end){var b=buffer[start++];switch(j){case 0:chunk[i++]=b64[b>>2];t=(b&3)<<4;j=1;break;case 1:chunk[i++]=b64[t|b>>4];t=(b&15)<<2;j=2;break;case 2:chunk[i++]=b64[t|b>>6];chunk[i++]=b64[b&63];j=0;break}if(i>8191){(parts||(parts=[])).push(String.fromCharCode.apply(String,chunk));i=0}}if(j){chunk[i++]=b64[t];chunk[i++]=61;if(j===1)chunk[i++]=61}if(parts){if(i)parts.push(String.fromCharCode.apply(String,chunk.slice(0,i)));return parts.join("")}return String.fromCharCode.apply(String,chunk.slice(0,i))};var invalidEncoding="invalid encoding";base64.decode=function decode(string,buffer,offset){var start=offset;var j=0,t;for(var i=0;i<string.length;){var c=string.charCodeAt(i++);if(c===61&&j>1)break;if((c=s64[c])===undefined)throw Error(invalidEncoding);switch(j){case 0:t=c;j=1;break;case 1:buffer[offset++]=t<<2|(c&48)>>4;t=c;j=2;break;case 2:buffer[offset++]=(t&15)<<4|(c&60)>>2;t=c;j=3;break;case 3:buffer[offset++]=(t&3)<<6|c;j=0;break}}if(j===1)throw Error(invalidEncoding);return offset-start};base64.test=function test(string){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string)}},{}],3:[function(require,module,exports){"use strict";module.exports=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function on(evt,fn,ctx){(this._listeners[evt]||(this._listeners[evt]=[])).push({fn:fn,ctx:ctx||this});return this};EventEmitter.prototype.off=function off(evt,fn){if(evt===undefined)this._listeners={};else{if(fn===undefined)this._listeners[evt]=[];else{var listeners=this._listeners[evt];for(var i=0;i<listeners.length;)if(listeners[i].fn===fn)listeners.splice(i,1);else++i}}return this};EventEmitter.prototype.emit=function emit(evt){var listeners=this._listeners[evt];if(listeners){var args=[],i=1;for(;i<arguments.length;)args.push(arguments[i++]);for(i=0;i<listeners.length;)listeners[i].fn.apply(listeners[i++].ctx,args)}return this}},{}],4:[function(require,module,exports){"use strict";module.exports=factory(factory);function factory(exports){if(typeof Float32Array!=="undefined")(function(){var f32=new Float32Array([-0]),f8b=new Uint8Array(f32.buffer),le=f8b[3]===128;function writeFloat_f32_cpy(val,buf,pos){f32[0]=val;buf[pos]=f8b[0];buf[pos+1]=f8b[1];buf[pos+2]=f8b[2];buf[pos+3]=f8b[3]}function writeFloat_f32_rev(val,buf,pos){f32[0]=val;buf[pos]=f8b[3];buf[pos+1]=f8b[2];buf[pos+2]=f8b[1];buf[pos+3]=f8b[0]}exports.writeFloatLE=le?writeFloat_f32_cpy:writeFloat_f32_rev;exports.writeFloatBE=le?writeFloat_f32_rev:writeFloat_f32_cpy;function readFloat_f32_cpy(buf,pos){f8b[0]=buf[pos];f8b[1]=buf[pos+1];f8b[2]=buf[pos+2];f8b[3]=buf[pos+3];return f32[0]}function readFloat_f32_rev(buf,pos){f8b[3]=buf[pos];f8b[2]=buf[pos+1];f8b[1]=buf[pos+2];f8b[0]=buf[pos+3];return f32[0]}exports.readFloatLE=le?readFloat_f32_cpy:readFloat_f32_rev;exports.readFloatBE=le?readFloat_f32_rev:readFloat_f32_cpy})();else(function(){function writeFloat_ieee754(writeUint,val,buf,pos){var sign=val<0?1:0;if(sign)val=-val;if(val===0)writeUint(1/val>0?0:2147483648,buf,pos);else if(isNaN(val))writeUint(2143289344,buf,pos);else if(val>3.4028234663852886e38)writeUint((sign<<31|2139095040)>>>0,buf,pos);else if(val<1.1754943508222875e-38)writeUint((sign<<31|Math.round(val/1.401298464324817e-45))>>>0,buf,pos);else{var exponent=Math.floor(Math.log(val)/Math.LN2),mantissa=Math.round(val*Math.pow(2,-exponent)*8388608)&8388607;writeUint((sign<<31|exponent+127<<23|mantissa)>>>0,buf,pos)}}exports.writeFloatLE=writeFloat_ieee754.bind(null,writeUintLE);exports.writeFloatBE=writeFloat_ieee754.bind(null,writeUintBE);function readFloat_ieee754(readUint,buf,pos){var uint=readUint(buf,pos),sign=(uint>>31)*2+1,exponent=uint>>>23&255,mantissa=uint&8388607;return exponent===255?mantissa?NaN:sign*Infinity:exponent===0?sign*1.401298464324817e-45*mantissa:sign*Math.pow(2,exponent-150)*(mantissa+8388608)}exports.readFloatLE=readFloat_ieee754.bind(null,readUintLE);exports.readFloatBE=readFloat_ieee754.bind(null,readUintBE)})();if(typeof Float64Array!=="undefined")(function(){var f64=new Float64Array([-0]),f8b=new Uint8Array(f64.buffer),le=f8b[7]===128;function writeDouble_f64_cpy(val,buf,pos){f64[0]=val;buf[pos]=f8b[0];buf[pos+1]=f8b[1];buf[pos+2]=f8b[2];buf[pos+3]=f8b[3];buf[pos+4]=f8b[4];buf[pos+5]=f8b[5];buf[pos+6]=f8b[6];buf[pos+7]=f8b[7]}function writeDouble_f64_rev(val,buf,pos){f64[0]=val;buf[pos]=f8b[7];buf[pos+1]=f8b[6];buf[pos+2]=f8b[5];buf[pos+3]=f8b[4];buf[pos+4]=f8b[3];buf[pos+5]=f8b[2];buf[pos+6]=f8b[1];buf[pos+7]=f8b[0]}exports.writeDoubleLE=le?writeDouble_f64_cpy:writeDouble_f64_rev;exports.writeDoubleBE=le?writeDouble_f64_rev:writeDouble_f64_cpy;function readDouble_f64_cpy(buf,pos){f8b[0]=buf[pos];f8b[1]=buf[pos+1];f8b[2]=buf[pos+2];f8b[3]=buf[pos+3];f8b[4]=buf[pos+4];f8b[5]=buf[pos+5];f8b[6]=buf[pos+6];f8b[7]=buf[pos+7];return f64[0]}function readDouble_f64_rev(buf,pos){f8b[7]=buf[pos];f8b[6]=buf[pos+1];f8b[5]=buf[pos+2];f8b[4]=buf[pos+3];f8b[3]=buf[pos+4];f8b[2]=buf[pos+5];f8b[1]=buf[pos+6];f8b[0]=buf[pos+7];return f64[0]}exports.readDoubleLE=le?readDouble_f64_cpy:readDouble_f64_rev;exports.readDoubleBE=le?readDouble_f64_rev:readDouble_f64_cpy})();else(function(){function writeDouble_ieee754(writeUint,off0,off1,val,buf,pos){var sign=val<0?1:0;if(sign)val=-val;if(val===0){writeUint(0,buf,pos+off0);writeUint(1/val>0?0:2147483648,buf,pos+off1)}else if(isNaN(val)){writeUint(0,buf,pos+off0);writeUint(2146959360,buf,pos+off1)}else if(val>1.7976931348623157e308){writeUint(0,buf,pos+off0);writeUint((sign<<31|2146435072)>>>0,buf,pos+off1)}else{var mantissa;if(val<2.2250738585072014e-308){mantissa=val/5e-324;writeUint(mantissa>>>0,buf,pos+off0);writeUint((sign<<31|mantissa/4294967296)>>>0,buf,pos+off1)}else{var exponent=Math.floor(Math.log(val)/Math.LN2);if(exponent===1024)exponent=1023;mantissa=val*Math.pow(2,-exponent);writeUint(mantissa*4503599627370496>>>0,buf,pos+off0);writeUint((sign<<31|exponent+1023<<20|mantissa*1048576&1048575)>>>0,buf,pos+off1)}}}exports.writeDoubleLE=writeDouble_ieee754.bind(null,writeUintLE,0,4);exports.writeDoubleBE=writeDouble_ieee754.bind(null,writeUintBE,4,0);function readDouble_ieee754(readUint,off0,off1,buf,pos){var lo=readUint(buf,pos+off0),hi=readUint(buf,pos+off1);var sign=(hi>>31)*2+1,exponent=hi>>>20&2047,mantissa=4294967296*(hi&1048575)+lo;return exponent===2047?mantissa?NaN:sign*Infinity:exponent===0?sign*5e-324*mantissa:sign*Math.pow(2,exponent-1075)*(mantissa+4503599627370496)}exports.readDoubleLE=readDouble_ieee754.bind(null,readUintLE,0,4);exports.readDoubleBE=readDouble_ieee754.bind(null,readUintBE,4,0)})();return exports}function writeUintLE(val,buf,pos){buf[pos]=val&255;buf[pos+1]=val>>>8&255;buf[pos+2]=val>>>16&255;buf[pos+3]=val>>>24}function writeUintBE(val,buf,pos){buf[pos]=val>>>24;buf[pos+1]=val>>>16&255;buf[pos+2]=val>>>8&255;buf[pos+3]=val&255}function readUintLE(buf,pos){return(buf[pos]|buf[pos+1]<<8|buf[pos+2]<<16|buf[pos+3]<<24)>>>0}function readUintBE(buf,pos){return(buf[pos]<<24|buf[pos+1]<<16|buf[pos+2]<<8|buf[pos+3])>>>0}},{}],5:[function(require,module,exports){"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}},{}],6:[function(require,module,exports){"use strict";module.exports=pool;function pool(alloc,slice,size){var SIZE=size||8192;var MAX=SIZE>>>1;var slab=null;var offset=SIZE;return function pool_alloc(size){if(size<1||size>MAX)return alloc(size);if(offset+size>SIZE){slab=alloc(SIZE);offset=0}var buf=slice.call(slab,offset,offset+=size);if(offset&7)offset=(offset|7)+1;return buf}}},{}],7:[function(require,module,exports){"use strict";var utf8=exports;utf8.length=function utf8_length(string){var len=0,c=0;for(var i=0;i<string.length;++i){c=string.charCodeAt(i);if(c<128)len+=1;else if(c<2048)len+=2;else if((c&64512)===55296&&(string.charCodeAt(i+1)&64512)===56320){++i;len+=4}else len+=3}return len};utf8.read=function utf8_read(buffer,start,end){var len=end-start;if(len<1)return"";var parts=null,chunk=[],i=0,t;while(start<end){t=buffer[start++];if(t<128)chunk[i++]=t;else if(t>191&&t<224)chunk[i++]=(t&31)<<6|buffer[start++]&63;else if(t>239&&t<365){t=((t&7)<<18|(buffer[start++]&63)<<12|(buffer[start++]&63)<<6|buffer[start++]&63)-65536;chunk[i++]=55296+(t>>10);chunk[i++]=56320+(t&1023)}else chunk[i++]=(t&15)<<12|(buffer[start++]&63)<<6|buffer[start++]&63;if(i>8191){(parts||(parts=[])).push(String.fromCharCode.apply(String,chunk));i=0}}if(parts){if(i)parts.push(String.fromCharCode.apply(String,chunk.slice(0,i)));return parts.join("")}return String.fromCharCode.apply(String,chunk.slice(0,i))};utf8.write=function utf8_write(string,buffer,offset){var start=offset,c1,c2;for(var i=0;i<string.length;++i){c1=string.charCodeAt(i);if(c1<128){buffer[offset++]=c1}else if(c1<2048){buffer[offset++]=c1>>6|192;buffer[offset++]=c1&63|128}else if((c1&64512)===55296&&((c2=string.charCodeAt(i+1))&64512)===56320){c1=65536+((c1&1023)<<10)+(c2&1023);++i;buffer[offset++]=c1>>18|240;buffer[offset++]=c1>>12&63|128;buffer[offset++]=c1>>6&63|128;buffer[offset++]=c1&63|128}else{buffer[offset++]=c1>>12|224;buffer[offset++]=c1>>6&63|128;buffer[offset++]=c1&63|128}}return offset-start}},{}],8:[function(require,module,exports){"use strict";var $protobuf=require("protobufjs/minimal");var $Reader=$protobuf.Reader,$util=$protobuf.util;var $root=$protobuf.roots["default"]||($protobuf.roots["default"]={});$root.tensorflow=function(){var tensorflow={};tensorflow.Any=function(){function Any(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}Any.prototype.typeUrl="";Any.prototype.value=$util.newBuffer([]);Any.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.Any;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.typeUrl=r.string();break;case 2:m.value=r.bytes();break;default:r.skipType(t&7);break}}return m};return Any}();tensorflow.DataType=function(){var valuesById={},values=Object.create(valuesById);values[valuesById[0]="DT_INVALID"]=0;values[valuesById[1]="DT_FLOAT"]=1;values[valuesById[2]="DT_DOUBLE"]=2;values[valuesById[3]="DT_INT32"]=3;values[valuesById[4]="DT_UINT8"]=4;values[valuesById[5]="DT_INT16"]=5;values[valuesById[6]="DT_INT8"]=6;values[valuesById[7]="DT_STRING"]=7;values[valuesById[8]="DT_COMPLEX64"]=8;values[valuesById[9]="DT_INT64"]=9;values[valuesById[10]="DT_BOOL"]=10;values[valuesById[11]="DT_QINT8"]=11;values[valuesById[12]="DT_QUINT8"]=12;values[valuesById[13]="DT_QINT32"]=13;values[valuesById[14]="DT_BFLOAT16"]=14;values[valuesById[101]="DT_FLOAT_REF"]=101;values[valuesById[102]="DT_DOUBLE_REF"]=102;values[valuesById[103]="DT_INT32_REF"]=103;values[valuesById[104]="DT_UINT8_REF"]=104;values[valuesById[105]="DT_INT16_REF"]=105;values[valuesById[106]="DT_INT8_REF"]=106;values[valuesById[107]="DT_STRING_REF"]=107;values[valuesById[108]="DT_COMPLEX64_REF"]=108;values[valuesById[109]="DT_INT64_REF"]=109;values[valuesById[110]="DT_BOOL_REF"]=110;values[valuesById[111]="DT_QINT8_REF"]=111;values[valuesById[112]="DT_QUINT8_REF"]=112;values[valuesById[113]="DT_QINT32_REF"]=113;values[valuesById[114]="DT_BFLOAT16_REF"]=114;return values}();tensorflow.TensorShape=function(){function TensorShape(p){this.dim=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}TensorShape.prototype.dim=$util.emptyArray;TensorShape.prototype.unknownRank=false;TensorShape.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.TensorShape;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 2:if(!(m.dim&&m.dim.length))m.dim=[];m.dim.push($root.tensorflow.TensorShape.Dim.decode(r,r.uint32()));break;case 3:m.unknownRank=r.bool();break;default:r.skipType(t&7);break}}return m};TensorShape.Dim=function(){function Dim(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}Dim.prototype.size=$util.Long?$util.Long.fromBits(0,0,false):0;Dim.prototype.name="";Dim.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.TensorShape.Dim;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.size=r.int64();break;case 2:m.name=r.string();break;default:r.skipType(t&7);break}}return m};return Dim}();return TensorShape}();tensorflow.Tensor=function(){function Tensor(p){this.floatVal=[];this.doubleVal=[];this.intVal=[];this.stringVal=[];this.scomplexVal=[];this.int64Val=[];this.boolVal=[];this.uint32Val=[];this.uint64Val=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}Tensor.prototype.dtype=0;Tensor.prototype.tensorShape=null;Tensor.prototype.versionNumber=0;Tensor.prototype.tensorContent=$util.newBuffer([]);Tensor.prototype.floatVal=$util.emptyArray;Tensor.prototype.doubleVal=$util.emptyArray;Tensor.prototype.intVal=$util.emptyArray;Tensor.prototype.stringVal=$util.emptyArray;Tensor.prototype.scomplexVal=$util.emptyArray;Tensor.prototype.int64Val=$util.emptyArray;Tensor.prototype.boolVal=$util.emptyArray;Tensor.prototype.uint32Val=$util.emptyArray;Tensor.prototype.uint64Val=$util.emptyArray;Tensor.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.Tensor;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.dtype=r.int32();break;case 2:m.tensorShape=$root.tensorflow.TensorShape.decode(r,r.uint32());break;case 3:m.versionNumber=r.int32();break;case 4:m.tensorContent=r.bytes();break;case 5:if(!(m.floatVal&&m.floatVal.length))m.floatVal=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.floatVal.push(r.float())}else m.floatVal.push(r.float());break;case 6:if(!(m.doubleVal&&m.doubleVal.length))m.doubleVal=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.doubleVal.push(r.double())}else m.doubleVal.push(r.double());break;case 7:if(!(m.intVal&&m.intVal.length))m.intVal=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.intVal.push(r.int32())}else m.intVal.push(r.int32());break;case 8:if(!(m.stringVal&&m.stringVal.length))m.stringVal=[];m.stringVal.push(r.bytes());break;case 9:if(!(m.scomplexVal&&m.scomplexVal.length))m.scomplexVal=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.scomplexVal.push(r.float())}else m.scomplexVal.push(r.float());break;case 10:if(!(m.int64Val&&m.int64Val.length))m.int64Val=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.int64Val.push(r.int64())}else m.int64Val.push(r.int64());break;case 11:if(!(m.boolVal&&m.boolVal.length))m.boolVal=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.boolVal.push(r.bool())}else m.boolVal.push(r.bool());break;case 16:if(!(m.uint32Val&&m.uint32Val.length))m.uint32Val=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.uint32Val.push(r.uint32())}else m.uint32Val.push(r.uint32());break;case 17:if(!(m.uint64Val&&m.uint64Val.length))m.uint64Val=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.uint64Val.push(r.uint64())}else m.uint64Val.push(r.uint64());break;default:r.skipType(t&7);break}}return m};return Tensor}();tensorflow.AttrValue=function(){function AttrValue(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}AttrValue.prototype.list=null;AttrValue.prototype.s=$util.newBuffer([]);AttrValue.prototype.i=$util.Long?$util.Long.fromBits(0,0,false):0;AttrValue.prototype.f=0;AttrValue.prototype.b=false;AttrValue.prototype.type=0;AttrValue.prototype.shape=null;AttrValue.prototype.tensor=null;AttrValue.prototype.placeholder="";AttrValue.prototype.func=null;var $oneOfFields;Object.defineProperty(AttrValue.prototype,"value",{get:$util.oneOfGetter($oneOfFields=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:$util.oneOfSetter($oneOfFields)});AttrValue.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.AttrValue;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.list=$root.tensorflow.AttrValue.ListValue.decode(r,r.uint32());break;case 2:m.s=r.bytes();break;case 3:m.i=r.int64();break;case 4:m.f=r.float();break;case 5:m.b=r.bool();break;case 6:m.type=r.int32();break;case 7:m.shape=$root.tensorflow.TensorShape.decode(r,r.uint32());break;case 8:m.tensor=$root.tensorflow.Tensor.decode(r,r.uint32());break;case 9:m.placeholder=r.string();break;case 10:m.func=$root.tensorflow.NameAttrList.decode(r,r.uint32());break;default:r.skipType(t&7);break}}return m};AttrValue.ListValue=function(){function ListValue(p){this.s=[];this.i=[];this.f=[];this.b=[];this.type=[];this.shape=[];this.tensor=[];this.func=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}ListValue.prototype.s=$util.emptyArray;ListValue.prototype.i=$util.emptyArray;ListValue.prototype.f=$util.emptyArray;ListValue.prototype.b=$util.emptyArray;ListValue.prototype.type=$util.emptyArray;ListValue.prototype.shape=$util.emptyArray;ListValue.prototype.tensor=$util.emptyArray;ListValue.prototype.func=$util.emptyArray;ListValue.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.AttrValue.ListValue;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 2:if(!(m.s&&m.s.length))m.s=[];m.s.push(r.bytes());break;case 3:if(!(m.i&&m.i.length))m.i=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.i.push(r.int64())}else m.i.push(r.int64());break;case 4:if(!(m.f&&m.f.length))m.f=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.f.push(r.float())}else m.f.push(r.float());break;case 5:if(!(m.b&&m.b.length))m.b=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.b.push(r.bool())}else m.b.push(r.bool());break;case 6:if(!(m.type&&m.type.length))m.type=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.type.push(r.int32())}else m.type.push(r.int32());break;case 7:if(!(m.shape&&m.shape.length))m.shape=[];m.shape.push($root.tensorflow.TensorShape.decode(r,r.uint32()));break;case 8:if(!(m.tensor&&m.tensor.length))m.tensor=[];m.tensor.push($root.tensorflow.Tensor.decode(r,r.uint32()));break;case 9:if(!(m.func&&m.func.length))m.func=[];m.func.push($root.tensorflow.NameAttrList.decode(r,r.uint32()));break;default:r.skipType(t&7);break}}return m};return ListValue}();return AttrValue}();tensorflow.NameAttrList=function(){function NameAttrList(p){this.attr={};if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}NameAttrList.prototype.name="";NameAttrList.prototype.attr=$util.emptyObject;NameAttrList.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.NameAttrList,k;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.name=r.string();break;case 2:r.skip().pos++;if(m.attr===$util.emptyObject)m.attr={};k=r.string();r.pos++;m.attr[k]=$root.tensorflow.AttrValue.decode(r,r.uint32());break;default:r.skipType(t&7);break}}return m};return NameAttrList}();tensorflow.NodeDef=function(){function NodeDef(p){this.input=[];this.attr={};if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}NodeDef.prototype.name="";NodeDef.prototype.op="";NodeDef.prototype.input=$util.emptyArray;NodeDef.prototype.device="";NodeDef.prototype.attr=$util.emptyObject;NodeDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.NodeDef,k;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.name=r.string();break;case 2:m.op=r.string();break;case 3:if(!(m.input&&m.input.length))m.input=[];m.input.push(r.string());break;case 4:m.device=r.string();break;case 5:r.skip().pos++;if(m.attr===$util.emptyObject)m.attr={};k=r.string();r.pos++;m.attr[k]=$root.tensorflow.AttrValue.decode(r,r.uint32());break;default:r.skipType(t&7);break}}return m};return NodeDef}();tensorflow.VersionDef=function(){function VersionDef(p){this.badConsumers=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}VersionDef.prototype.producer=0;VersionDef.prototype.minConsumer=0;VersionDef.prototype.badConsumers=$util.emptyArray;VersionDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.VersionDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.producer=r.int32();break;case 2:m.minConsumer=r.int32();break;case 3:if(!(m.badConsumers&&m.badConsumers.length))m.badConsumers=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.badConsumers.push(r.int32())}else m.badConsumers.push(r.int32());break;default:r.skipType(t&7);break}}return m};return VersionDef}();tensorflow.GraphDef=function(){function GraphDef(p){this.node=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}GraphDef.prototype.node=$util.emptyArray;GraphDef.prototype.versions=null;GraphDef.prototype.library=null;GraphDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.GraphDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m.node&&m.node.length))m.node=[];m.node.push($root.tensorflow.NodeDef.decode(r,r.uint32()));break;case 4:m.versions=$root.tensorflow.VersionDef.decode(r,r.uint32());break;case 2:m.library=$root.tensorflow.FunctionDefLibrary.decode(r,r.uint32());break;default:r.skipType(t&7);break}}return m};return GraphDef}();tensorflow.CollectionDef=function(){function CollectionDef(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}CollectionDef.prototype.nodeList=null;CollectionDef.prototype.bytesList=null;CollectionDef.prototype.int64List=null;CollectionDef.prototype.floatList=null;CollectionDef.prototype.anyList=null;var $oneOfFields;Object.defineProperty(CollectionDef.prototype,"kind",{get:$util.oneOfGetter($oneOfFields=["nodeList","bytesList","int64List","floatList","anyList"]),set:$util.oneOfSetter($oneOfFields)});CollectionDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.CollectionDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.nodeList=$root.tensorflow.CollectionDef.NodeList.decode(r,r.uint32());break;case 2:m.bytesList=$root.tensorflow.CollectionDef.BytesList.decode(r,r.uint32());break;case 3:m.int64List=$root.tensorflow.CollectionDef.Int64List.decode(r,r.uint32());break;case 4:m.floatList=$root.tensorflow.CollectionDef.FloatList.decode(r,r.uint32());break;case 5:m.anyList=$root.tensorflow.CollectionDef.AnyList.decode(r,r.uint32());break;default:r.skipType(t&7);break}}return m};CollectionDef.NodeList=function(){function NodeList(p){this.value=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}NodeList.prototype.value=$util.emptyArray;NodeList.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.CollectionDef.NodeList;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m.value&&m.value.length))m.value=[];m.value.push(r.string());break;default:r.skipType(t&7);break}}return m};return NodeList}();CollectionDef.BytesList=function(){function BytesList(p){this.value=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}BytesList.prototype.value=$util.emptyArray;BytesList.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.CollectionDef.BytesList;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m.value&&m.value.length))m.value=[];m.value.push(r.bytes());break;default:r.skipType(t&7);break}}return m};return BytesList}();CollectionDef.Int64List=function(){function Int64List(p){this.value=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}Int64List.prototype.value=$util.emptyArray;Int64List.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.CollectionDef.Int64List;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m.value&&m.value.length))m.value=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.value.push(r.int64())}else m.value.push(r.int64());break;default:r.skipType(t&7);break}}return m};return Int64List}();CollectionDef.FloatList=function(){function FloatList(p){this.value=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}FloatList.prototype.value=$util.emptyArray;FloatList.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.CollectionDef.FloatList;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m.value&&m.value.length))m.value=[];if((t&7)===2){var c2=r.uint32()+r.pos;while(r.pos<c2)m.value.push(r.float())}else m.value.push(r.float());break;default:r.skipType(t&7);break}}return m};return FloatList}();CollectionDef.AnyList=function(){function AnyList(p){this.value=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}AnyList.prototype.value=$util.emptyArray;AnyList.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.CollectionDef.AnyList;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m.value&&m.value.length))m.value=[];m.value.push($root.tensorflow.Any.decode(r,r.uint32()));break;default:r.skipType(t&7);break}}return m};return AnyList}();return CollectionDef}();tensorflow.SaverDef=function(){function SaverDef(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}SaverDef.prototype.filenameTensorName="";SaverDef.prototype.saveTensorName="";SaverDef.prototype.restoreOpName="";SaverDef.prototype.maxToKeep=0;SaverDef.prototype.sharded=false;SaverDef.prototype.keepCheckpointEveryNHours=0;SaverDef.prototype.version=0;SaverDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.SaverDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.filenameTensorName=r.string();break;case 2:m.saveTensorName=r.string();break;case 3:m.restoreOpName=r.string();break;case 4:m.maxToKeep=r.int32();break;case 5:m.sharded=r.bool();break;case 6:m.keepCheckpointEveryNHours=r.float();break;case 7:m.version=r.int32();break;default:r.skipType(t&7);break}}return m};SaverDef.CheckpointFormatVersion=function(){var valuesById={},values=Object.create(valuesById);values[valuesById[0]="LEGACY"]=0;values[valuesById[1]="V1"]=1;values[valuesById[2]="V2"]=2;return values}();return SaverDef}();tensorflow.TensorInfo=function(){function TensorInfo(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}TensorInfo.prototype.name="";TensorInfo.prototype.cooSparse=null;TensorInfo.prototype.dtype=0;TensorInfo.prototype.tensorShape=null;var $oneOfFields;Object.defineProperty(TensorInfo.prototype,"encoding",{get:$util.oneOfGetter($oneOfFields=["name","cooSparse"]),set:$util.oneOfSetter($oneOfFields)});TensorInfo.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.TensorInfo;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.name=r.string();break;case 4:m.cooSparse=$root.tensorflow.TensorInfo.CooSparse.decode(r,r.uint32());break;case 2:m.dtype=r.int32();break;case 3:m.tensorShape=$root.tensorflow.TensorShape.decode(r,r.uint32());break;default:r.skipType(t&7);break}}return m};TensorInfo.CooSparse=function(){function CooSparse(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}CooSparse.prototype.valuesTensorName="";CooSparse.prototype.indicesTensorName="";CooSparse.prototype.denseShapeTensorName="";CooSparse.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.TensorInfo.CooSparse;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.valuesTensorName=r.string();break;case 2:m.indicesTensorName=r.string();break;case 3:m.denseShapeTensorName=r.string();break;default:r.skipType(t&7);break}}return m};return CooSparse}();return TensorInfo}();tensorflow.SignatureDef=function(){function SignatureDef(p){this.inputs={};this.outputs={};if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}SignatureDef.prototype.inputs=$util.emptyObject;SignatureDef.prototype.outputs=$util.emptyObject;SignatureDef.prototype.methodName="";SignatureDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.SignatureDef,k;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:r.skip().pos++;if(m.inputs===$util.emptyObject)m.inputs={};k=r.string();r.pos++;m.inputs[k]=$root.tensorflow.TensorInfo.decode(r,r.uint32());break;case 2:r.skip().pos++;if(m.outputs===$util.emptyObject)m.outputs={};k=r.string();r.pos++;m.outputs[k]=$root.tensorflow.TensorInfo.decode(r,r.uint32());break;case 3:m.methodName=r.string();break;default:r.skipType(t&7);break}}return m};return SignatureDef}();tensorflow.AssetFileDef=function(){function AssetFileDef(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}AssetFileDef.prototype.tensorInfo=null;AssetFileDef.prototype.filename="";AssetFileDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.AssetFileDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.tensorInfo=$root.tensorflow.TensorInfo.decode(r,r.uint32());break;case 2:m.filename=r.string();break;default:r.skipType(t&7);break}}return m};return AssetFileDef}();tensorflow.OpDef=function(){function OpDef(p){this.inputArg=[];this.outputArg=[];this.attr=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}OpDef.prototype.name="";OpDef.prototype.inputArg=$util.emptyArray;OpDef.prototype.outputArg=$util.emptyArray;OpDef.prototype.attr=$util.emptyArray;OpDef.prototype.deprecation=null;OpDef.prototype.summary="";OpDef.prototype.description="";OpDef.prototype.isCommutative=false;OpDef.prototype.isAggregate=false;OpDef.prototype.isStateful=false;OpDef.prototype.allowsUninitializedInput=false;OpDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.OpDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.name=r.string();break;case 2:if(!(m.inputArg&&m.inputArg.length))m.inputArg=[];m.inputArg.push($root.tensorflow.OpDef.ArgDef.decode(r,r.uint32()));break;case 3:if(!(m.outputArg&&m.outputArg.length))m.outputArg=[];m.outputArg.push($root.tensorflow.OpDef.ArgDef.decode(r,r.uint32()));break;case 4:if(!(m.attr&&m.attr.length))m.attr=[];m.attr.push($root.tensorflow.OpDef.AttrDef.decode(r,r.uint32()));break;case 8:m.deprecation=$root.tensorflow.OpDef.OpDeprecation.decode(r,r.uint32());break;case 5:m.summary=r.string();break;case 6:m.description=r.string();break;case 18:m.isCommutative=r.bool();break;case 16:m.isAggregate=r.bool();break;case 17:m.isStateful=r.bool();break;case 19:m.allowsUninitializedInput=r.bool();break;default:r.skipType(t&7);break}}return m};OpDef.ArgDef=function(){function ArgDef(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}ArgDef.prototype.name="";ArgDef.prototype.description="";ArgDef.prototype.type=0;ArgDef.prototype.typeAttr="";ArgDef.prototype.numberAttr="";ArgDef.prototype.typeListAttr="";ArgDef.prototype.isRef=false;ArgDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.OpDef.ArgDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.name=r.string();break;case 2:m.description=r.string();break;case 3:m.type=r.int32();break;case 4:m.typeAttr=r.string();break;case 5:m.numberAttr=r.string();break;case 6:m.typeListAttr=r.string();break;case 16:m.isRef=r.bool();break;default:r.skipType(t&7);break}}return m};return ArgDef}();OpDef.AttrDef=function(){function AttrDef(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}AttrDef.prototype.name="";AttrDef.prototype.type="";AttrDef.prototype.defaultValue=null;AttrDef.prototype.description="";AttrDef.prototype.hasMinimum=false;AttrDef.prototype.minimum=$util.Long?$util.Long.fromBits(0,0,false):0;AttrDef.prototype.allowedValues=null;AttrDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.OpDef.AttrDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.name=r.string();break;case 2:m.type=r.string();break;case 3:m.defaultValue=$root.tensorflow.AttrValue.decode(r,r.uint32());break;case 4:m.description=r.string();break;case 5:m.hasMinimum=r.bool();break;case 6:m.minimum=r.int64();break;case 7:m.allowedValues=$root.tensorflow.AttrValue.decode(r,r.uint32());break;default:r.skipType(t&7);break}}return m};return AttrDef}();OpDef.OpDeprecation=function(){function OpDeprecation(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}OpDeprecation.prototype.version=0;OpDeprecation.prototype.explanation="";OpDeprecation.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.OpDef.OpDeprecation;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.version=r.int32();break;case 2:m.explanation=r.string();break;default:r.skipType(t&7);break}}return m};return OpDeprecation}();return OpDef}();tensorflow.OpList=function(){function OpList(p){this.op=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}OpList.prototype.op=$util.emptyArray;OpList.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.OpList;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m.op&&m.op.length))m.op=[];m.op.push($root.tensorflow.OpDef.decode(r,r.uint32()));break;default:r.skipType(t&7);break}}return m};return OpList}();tensorflow.MetaGraphDef=function(){function MetaGraphDef(p){this.collectionDef={};this.signatureDef={};this.assetFileDef=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}MetaGraphDef.prototype.metaInfoDef=null;MetaGraphDef.prototype.graphDef=null;MetaGraphDef.prototype.saverDef=null;MetaGraphDef.prototype.collectionDef=$util.emptyObject;MetaGraphDef.prototype.signatureDef=$util.emptyObject;MetaGraphDef.prototype.assetFileDef=$util.emptyArray;MetaGraphDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.MetaGraphDef,k;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.metaInfoDef=$root.tensorflow.MetaGraphDef.MetaInfoDef.decode(r,r.uint32());break;case 2:m.graphDef=$root.tensorflow.GraphDef.decode(r,r.uint32());break;case 3:m.saverDef=$root.tensorflow.SaverDef.decode(r,r.uint32());break;case 4:r.skip().pos++;if(m.collectionDef===$util.emptyObject)m.collectionDef={};k=r.string();r.pos++;m.collectionDef[k]=$root.tensorflow.CollectionDef.decode(r,r.uint32());break;case 5:r.skip().pos++;if(m.signatureDef===$util.emptyObject)m.signatureDef={};k=r.string();r.pos++;m.signatureDef[k]=$root.tensorflow.SignatureDef.decode(r,r.uint32());break;case 6:if(!(m.assetFileDef&&m.assetFileDef.length))m.assetFileDef=[];m.assetFileDef.push($root.tensorflow.AssetFileDef.decode(r,r.uint32()));break;default:r.skipType(t&7);break}}return m};MetaGraphDef.MetaInfoDef=function(){function MetaInfoDef(p){this.tags=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}MetaInfoDef.prototype.metaGraphVersion="";MetaInfoDef.prototype.strippedOpList=null;MetaInfoDef.prototype.anyInfo=null;MetaInfoDef.prototype.tags=$util.emptyArray;MetaInfoDef.prototype.tensorflowVersion="";MetaInfoDef.prototype.tensorflowGitVersion="";MetaInfoDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.MetaGraphDef.MetaInfoDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.metaGraphVersion=r.string();break;case 2:m.strippedOpList=$root.tensorflow.OpList.decode(r,r.uint32());break;case 3:m.anyInfo=$root.tensorflow.Any.decode(r,r.uint32());break;case 4:if(!(m.tags&&m.tags.length))m.tags=[];m.tags.push(r.string());break;case 5:m.tensorflowVersion=r.string();break;case 6:m.tensorflowGitVersion=r.string();break;default:r.skipType(t&7);break}}return m};return MetaInfoDef}();return MetaGraphDef}();tensorflow.SavedModel=function(){function SavedModel(p){this.metaGraphs=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}SavedModel.prototype.savedModelSchemaVersion=$util.Long?$util.Long.fromBits(0,0,false):0;SavedModel.prototype.metaGraphs=$util.emptyArray;SavedModel.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.SavedModel;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.savedModelSchemaVersion=r.int64();break;case 2:if(!(m.metaGraphs&&m.metaGraphs.length))m.metaGraphs=[];m.metaGraphs.push($root.tensorflow.MetaGraphDef.decode(r,r.uint32()));break;default:r.skipType(t&7);break}}return m};return SavedModel}();tensorflow.FunctionDefLibrary=function(){function FunctionDefLibrary(p){this["function"]=[];this.gradient=[];if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}FunctionDefLibrary.prototype["function"]=$util.emptyArray;FunctionDefLibrary.prototype.gradient=$util.emptyArray;FunctionDefLibrary.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.FunctionDefLibrary;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:if(!(m["function"]&&m["function"].length))m["function"]=[];m["function"].push($root.tensorflow.FunctionDef.decode(r,r.uint32()));break;case 2:if(!(m.gradient&&m.gradient.length))m.gradient=[];m.gradient.push($root.tensorflow.GradientDef.decode(r,r.uint32()));break;default:r.skipType(t&7);break}}return m};return FunctionDefLibrary}();tensorflow.FunctionDef=function(){function FunctionDef(p){this.attr={};this.nodeDef=[];this.ret={};if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}FunctionDef.prototype.signature=null;FunctionDef.prototype.attr=$util.emptyObject;FunctionDef.prototype.nodeDef=$util.emptyArray;FunctionDef.prototype.ret=$util.emptyObject;FunctionDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.FunctionDef,k;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.signature=$root.tensorflow.OpDef.decode(r,r.uint32());break;case 5:r.skip().pos++;if(m.attr===$util.emptyObject)m.attr={};k=r.string();r.pos++;m.attr[k]=$root.tensorflow.AttrValue.decode(r,r.uint32());break;case 3:if(!(m.nodeDef&&m.nodeDef.length))m.nodeDef=[];m.nodeDef.push($root.tensorflow.NodeDef.decode(r,r.uint32()));break;case 4:r.skip().pos++;if(m.ret===$util.emptyObject)m.ret={};k=r.string();r.pos++;m.ret[k]=r.string();break;default:r.skipType(t&7);break}}return m};return FunctionDef}();tensorflow.GradientDef=function(){function GradientDef(p){if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)this[ks[i]]=p[ks[i]]}GradientDef.prototype.functionName="";GradientDef.prototype.gradientFunc="";GradientDef.decode=function decode(r,l){if(!(r instanceof $Reader))r=$Reader.create(r);var c=l===undefined?r.len:r.pos+l,m=new $root.tensorflow.GradientDef;while(r.pos<c){var t=r.uint32();switch(t>>>3){case 1:m.functionName=r.string();break;case 2:m.gradientFunc=r.string();break;default:r.skipType(t&7);break}}return m};return GradientDef}();return tensorflow}();module.exports=$root},{"protobufjs/minimal":245}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ExecutionContext=function(){function ExecutionContext(weightMap,tensorArrayMap){this.weightMap=weightMap;this.tensorArrayMap=tensorArrayMap;this.rootContext={id:0,frameName:"",iterationId:0};this.contexts=[this.rootContext];this.lastId=0;this.generateCurrentContextIds()}ExecutionContext.prototype.newFrame=function(id,frameName){return{id:id,frameName:frameName,iterationId:0}};Object.defineProperty(ExecutionContext.prototype,"currentContext",{get:function(){return this.contexts},set:function(contexts){if(this.contexts!==contexts){this.contexts=contexts;this.generateCurrentContextIds()}},enumerable:true,configurable:true});Object.defineProperty(ExecutionContext.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:true,configurable:true});Object.defineProperty(ExecutionContext.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:true,configurable:true});ExecutionContext.prototype.generateCurrentContextIds=function(){var names=[];for(var i=0;i<this.contexts.length-1;i++){var contexts=this.contexts.slice(0,this.contexts.length-i);names.push(this.contextIdforContexts(contexts))}names.push("");this._currentContextIds=names};ExecutionContext.prototype.contextIdforContexts=function(contexts){return contexts?contexts.map(function(context){return context.id===0&&context.iterationId===0?"":context.frameName+"-"+context.iterationId}).join("/"):""};ExecutionContext.prototype.enterFrame=function(frameId){if(this.contexts){this.lastId++;this.contexts=this.contexts.slice();this.contexts.push(this.newFrame(this.lastId,frameId));this._currentContextIds.unshift(this.contextIdforContexts(this.contexts))}};ExecutionContext.prototype.exitFrame=function(){if(this.contexts&&this.contexts.length>1){this.contexts=this.contexts.slice();this.contexts.splice(-1);this.currentContextIds.shift()}else{throw new Error("Cannot exit frame, the context is empty")}};ExecutionContext.prototype.nextIteration=function(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice();this.lastId++;var context=Object.assign({},this.contexts[this.contexts.length-1]);context.iterationId+=1;context.id=this.lastId;this.contexts.splice(-1,1,context);this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else{throw new Error("Cannot increase frame iteration, the context is empty")}};ExecutionContext.prototype.getWeight=function(name){return this.weightMap[name]};ExecutionContext.prototype.addTensorArray=function(tensorArray){this.tensorArrayMap[tensorArray.id]=tensorArray};ExecutionContext.prototype.getTensorArray=function(id){return this.tensorArrayMap[id]};return ExecutionContext}();exports.ExecutionContext=ExecutionContext},{}],10:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=y[op[0]&2?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[0,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var compiled_api_1=require("../data/compiled_api");var operation_mapper_1=require("../operations/operation_mapper");var graph_executor_1=require("./graph_executor");var FrozenModel=function(){function FrozenModel(modelUrl,weightManifestUrl,requestOption){this.modelUrl=modelUrl;this.weightManifestUrl=weightManifestUrl;this.requestOption=requestOption;this.version="n/a"}Object.defineProperty(FrozenModel.prototype,"modelVersion",{get:function(){return this.version},enumerable:true,configurable:true});Object.defineProperty(FrozenModel.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:true,configurable:true});Object.defineProperty(FrozenModel.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:true,configurable:true});Object.defineProperty(FrozenModel.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:true,configurable:true});Object.defineProperty(FrozenModel.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:true,configurable:true});Object.defineProperty(FrozenModel.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:true,configurable:true});FrozenModel.prototype.findIOHandler=function(){var path=[this.modelUrl,this.weightManifestUrl];if(this.requestOption){this.handler=tfc.io.browserHTTPRequest(path,this.requestOption)}else{var handlers=tfc.io.getLoadHandlers(path);if(handlers.length===0){handlers.push(tfc.io.browserHTTPRequest(path,this.requestOption))}else if(handlers.length>1){throw new Error("Found more than one ("+handlers.length+") load handlers for "+("URL '"+[path]+"'"))}this.handler=handlers[0]}};FrozenModel.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var artifacts,graph,weightMap;return __generator(this,function(_a){switch(_a.label){case 0:this.findIOHandler();if(this.handler.load==null){throw new Error("Cannot proceed with model loading because the IOHandler provided "+"does not have the `load` method implemented.")}return[4,this.handler.load()];case 1:artifacts=_a.sent();graph=compiled_api_1.tensorflow.GraphDef.decode(new Uint8Array(artifacts.modelTopology));this.version=graph.versions.producer+"."+graph.versions.minConsumer;weightMap=tfc.io.decodeWeights(artifacts.weightData,artifacts.weightSpecs);this.executor=new graph_executor_1.GraphExecutor(operation_mapper_1.OperationMapper.Instance.transformGraph(graph));this.executor.weightMap=this.convertTensorMapToTensorsMap(weightMap);return[2,true]}})})};FrozenModel.prototype.predict=function(inputs,config){return this.execute_(inputs,true,this.outputNodes)};FrozenModel.prototype.constructTensorMap=function(inputs){var inputArray=inputs instanceof tfc.Tensor?[inputs]:inputs;if(inputArray.length!==this.inputNodes.length){throw new Error("Input tensor count mismatch,"+("the frozen model has "+this.inputNodes.length+" placeholders, ")+("while there are "+inputArray.length+" input tensors."))}return this.inputNodes.reduce(function(map,inputName,i){map[inputName]=inputArray[i];return map},{})};FrozenModel.prototype.execute=function(inputs,outputs){return this.execute_(inputs,false,outputs)};FrozenModel.prototype.execute_=function(inputs,strictInputCheck,outputs){if(strictInputCheck===void 0){strictInputCheck=true}outputs=outputs||this.outputNodes;if(inputs instanceof tfc.Tensor||Array.isArray(inputs)){inputs=this.constructTensorMap(inputs)}if(this.executor.isControlFlowModel||this.executor.isDynamicShapeModel){throw new Error("The model contains control flow or dynamic shape ops, "+"please use executeAsync method")}var result=this.executor.execute(this.convertTensorMapToTensorsMap(inputs),strictInputCheck,outputs);var keys=Object.keys(result);return Array.isArray(outputs)&&outputs.length>1?outputs.map(function(node){return result[node]}):result[keys[0]]};FrozenModel.prototype.executeAsync=function(inputs,outputs){return __awaiter(this,void 0,void 0,function(){var result,keys;return __generator(this,function(_a){switch(_a.label){case 0:if(!(this.executor.isControlFlowModel||this.executor.isDynamicShapeModel)){throw new Error("The model does not contain control flow or dynamic shape ops, "+"please use execute method for better performance.")}outputs=outputs||this.outputNodes;if(inputs instanceof tfc.Tensor||Array.isArray(inputs)){inputs=this.constructTensorMap(inputs)}return[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(inputs),outputs)];case 1:result=_a.sent();keys=Object.keys(result);return[2,Array.isArray(outputs)&&outputs.length>1?outputs.map(function(node){return result[node]}):result[keys[0]]]}})})};FrozenModel.prototype.convertTensorMapToTensorsMap=function(map){return Object.keys(map).reduce(function(newMap,key){newMap[key]=[map[key]];return newMap},{})};FrozenModel.prototype.dispose=function(){this.executor.dispose()};return FrozenModel}();exports.FrozenModel=FrozenModel;function loadFrozenModel(modelUrl,weightsManifestUrl,requestOption){return __awaiter(this,void 0,void 0,function(){var model;return __generator(this,function(_a){switch(_a.label){case 0:model=new FrozenModel(modelUrl,weightsManifestUrl,requestOption);return[4,model.load()];case 1:_a.sent();return[2,model]}})})}exports.loadFrozenModel=loadFrozenModel},{"../data/compiled_api":8,"../operations/operation_mapper":46,"./graph_executor":11,"@tensorflow/tfjs-core":55}],11:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=y[op[0]&2?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[0,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var tfjs_core_1=require("@tensorflow/tfjs-core");var utils_1=require("../operations/executors/utils");var operation_executor_1=require("../operations/operation_executor");var execution_context_1=require("./execution_context");var GraphExecutor=function(){function GraphExecutor(graph){this.graph=graph;this.compiledMap=new Map;this._weightMap={};this.SEPERATOR=",";this.placeholders=graph.placeholders;this._outputs=graph.outputs;this.compile()}Object.defineProperty(GraphExecutor.prototype,"weightMap",{get:function(){return this._weightMap},set:function(weightMap){var weightIds=Object.keys(weightMap).map(function(key){return weightMap[key].map(function(tensor){return tensor.id})});this.weightIds=[].concat.apply([],weightIds);this._weightMap=weightMap},enumerable:true,configurable:true});Object.defineProperty(GraphExecutor.prototype,"inputs",{get:function(){return this.placeholders.map(function(node){return{name:node.name,shape:node.params["shape"]?node.params["shape"].value:undefined,dtype:node.params["dtype"]?node.params["dtype"].value:undefined}})},enumerable:true,configurable:true});Object.defineProperty(GraphExecutor.prototype,"outputs",{get:function(){return this._outputs.map(function(node){return{name:node.name,shape:node.params["shape"]?node.params["shape"].value:undefined,dtype:node.params["dtype"]?node.params["dtype"].value:undefined}})},enumerable:true,configurable:true});Object.defineProperty(GraphExecutor.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(node){return node.name})},enumerable:true,configurable:true});Object.defineProperty(GraphExecutor.prototype,"outputNodes",{get:function(){return this.outputs.map(function(node){return node.name})},enumerable:true,configurable:true});Object.defineProperty(GraphExecutor.prototype,"isControlFlowModel",{get:function(){return this.graph.withControlFlow},enumerable:true,configurable:true});Object.defineProperty(GraphExecutor.prototype,"isDynamicShapeModel",{get:function(){return this.graph.withDynamicShape},enumerable:true,configurable:true});GraphExecutor.prototype.compile=function(startNodes){if(this.graph.withControlFlow||this.graph.withDynamicShape){return}var compiledOrder=[];var inputs=startNodes||this.graph.placeholders;var sortedNodeNames=inputs.map(function(node){return node.name}).sort();var nameKey=sortedNodeNames.join(this.SEPERATOR);if(this.compiledMap.get(nameKey)){return}var stack=inputs.concat(this.graph.weights);var visited={};while(stack.length>0){var node=stack.pop();visited[node.name]=true;compiledOrder.push(node);node.children.forEach(function(childNode){if(!visited[childNode.name]&&childNode.inputNames.every(function(name){var nodeName=utils_1.getNodeNameAndIndex(name)[0];return visited[nodeName]})){stack.push(childNode)}})}this.compiledMap.set(nameKey,compiledOrder)};GraphExecutor.prototype.execute=function(inputs,strictInputCheck,outputs){var _this=this;if(strictInputCheck===void 0){strictInputCheck=true}var names=Object.keys(inputs).sort();this.checkInput(inputs,strictInputCheck);this.checkInputShapeAndType(inputs,strictInputCheck);this.compile(names.map(function(name){return _this.graph.nodes[name]}));var outputNames=this.calculateOutputs(outputs);this.checkOutput(this.compiledMap.get(names.join(this.SEPERATOR)),outputNames);var tensorArrayMap={};var result=tfjs_core_1.tidy(function(){var context=new execution_context_1.ExecutionContext(_this._weightMap,tensorArrayMap);var tensorMap=__assign({},_this.weightMap,inputs);var compiledNodes=_this.compiledMap.get(names.join(_this.SEPERATOR));for(var i=0;i<compiledNodes.length;i++){var node=compiledNodes[i];if(!tensorMap[node.name]){tensorMap[node.name]=operation_executor_1.executeOp(node,tensorMap,context)}if(outputNames.every(function(name){return!!tensorMap[name]})){break}}return _this.findOutputs(tensorMap,context,outputNames)});return result};GraphExecutor.prototype.executeAsync=function(inputs,outputs){return __awaiter(this,void 0,void 0,function(){var _this=this;var tensorArrayMap,context,tensors,results,outputIds,inputIdArray,inputIds;return __generator(this,function(_a){switch(_a.label){case 0:this.checkInput(inputs,false);this.checkInputShapeAndType(inputs,false);tensorArrayMap={};context=new execution_context_1.ExecutionContext(this._weightMap,tensorArrayMap);return[4,this.executeWithControlFlow(inputs,context)];case 1:tensors=_a.sent();results=this.findOutputs(tensors,context,outputs);outputIds=Object.keys(results).map(function(key){return results[key].id});inputIdArray=Object.keys(inputs).map(function(key){return inputs[key].map(function(input){return input.id})});inputIds=[].concat.apply([],inputIdArray);Object.keys(tensors).forEach(function(key){var tensorArray=tensors[key];tensorArray.forEach(function(tensor){if(tensor&&outputIds.indexOf(tensor.id)===-1&&inputIds.indexOf(tensor.id)===-1&&_this.weightIds.indexOf(tensor.id)===-1){tensor.dispose()}})});return[2,results]}})})};GraphExecutor.prototype.executeWithControlFlow=function(inputs,context){return __awaiter(this,void 0,void 0,function(){var _this=this;var names,inputNodes,stack,tensorMap,added,promises;return __generator(this,function(_a){switch(_a.label){case 0:names=Object.keys(inputs);inputNodes=names.map(function(name){return _this.graph.nodes[name]});stack=inputNodes.concat(this.graph.weights).map(function(node){return{node:node,contexts:context.currentContext}});tensorMap=__assign({},this.weightMap,inputs);added={};_a.label=1;case 1:if(!(stack.length>0))return[3,3];promises=this.processStack(inputNodes,stack,context,tensorMap,added);return[4,Promise.all(promises)];case 2:_a.sent();return[3,1];case 3:return[2,tensorMap]}})})};GraphExecutor.prototype.processStack=function(inputNodes,stack,context,tensorMap,added){var _this=this;var promises=[];var _loop_1=function(){var item=stack.pop();context.currentContext=item.contexts;var nodeName="";if(item.node.op==="enter"&&utils_1.getParamValue("isConstant",item.node,tensorMap,context)){nodeName=utils_1.getNodeNameAndIndex(item.node.name,context)[0]}if(inputNodes.indexOf(item.node)===-1){var tensors=operation_executor_1.executeOp(item.node,tensorMap,context);if(!nodeName){nodeName=utils_1.getNodeNameAndIndex(item.node.name,context)[0]}var currentContext_1=context.currentContext;if(tensors instanceof Promise){promises.push(tensors.then(function(t){tensorMap[nodeName]=t;context.currentContext=currentContext_1;_this.processChildNodes(item.node,stack,context,tensorMap,added);return t}))}else{tensorMap[nodeName]=tensors;this_1.processChildNodes(item.node,stack,context,tensorMap,added)}}else{this_1.processChildNodes(item.node,stack,context,tensorMap,added)}};var this_1=this;while(stack.length>0){_loop_1()}return promises};GraphExecutor.prototype.processChildNodes=function(node,stack,context,tensorMap,added){node.children.forEach(function(childNode){var nodeName=utils_1.getNodeNameAndIndex(childNode.name,context)[0];if(!added[nodeName]){if(childNode.op==="merge"){if(childNode.inputNames.some(function(name){return!!utils_1.getTensor(name,tensorMap,context)})){added[nodeName]=true;stack.push({contexts:context.currentContext,node:childNode})}}else if(childNode.inputNames.every(function(name){return!!utils_1.getTensor(name,tensorMap,context)})){added[nodeName]=true;stack.push({contexts:context.currentContext,node:childNode})}}})};GraphExecutor.prototype.calculateOutputs=function(outputs){if(outputs&&!(outputs instanceof Array)){outputs=[outputs]}return outputs||this.graph.outputs.map(function(node){return node.name})};GraphExecutor.prototype.findOutputs=function(tensorMap,context,outputs){var requestedOutputs=this.calculateOutputs(outputs);return requestedOutputs.reduce(function(map,name){map[name]=utils_1.getTensor(name,tensorMap,context);return map},{})};GraphExecutor.prototype.dispose=function(){var _this=this;Object.keys(this.weightMap).forEach(function(key){return _this.weightMap[key].forEach(function(tensor){return tensor.dispose()})})};GraphExecutor.prototype.checkInputShapeAndType=function(inputs,strictInputCheck){if(strictInputCheck===void 0){strictInputCheck=true}this.placeholders.forEach(function(node){var inputTensors=inputs[node.name];if(!strictInputCheck&&!inputTensors){return}var input=inputTensors[0];if(node.params["shape"]&&node.params["shape"].value){var shape_1=node.params["shape"].value;var match=shape_1.length===input.shape.length&&input.shape.every(function(dim,index){return shape_1[index]===-1||shape_1[index]===dim});tfjs_core_1.util.assert(match,"The shape of dict['"+node.name+"'] provided in model.execute(dict) must be ["+shape_1+"], but was ["+input.shape+"]")}if(node.params["dtype"]&&node.params["dtype"].value){tfjs_core_1.util.assert(input.dtype===node.params["dtype"].value,"The dtype of dict['"+node.name+"'] provided in model.execute(dict) must be "+node.params["dtype"].value+", but was "+input.dtype)}})};GraphExecutor.prototype.checkInput=function(inputs,strictInputCheck){var _this=this;if(strictInputCheck===void 0){strictInputCheck=true}var inputKeys=Object.keys(inputs);var missing=[];var extra=[];this.inputNodes.forEach(function(name){if(inputKeys.indexOf(name)===-1)missing.push(name)});inputKeys.forEach(function(name){if(_this.inputNodes.indexOf(name)===-1)extra.push(name)});var notInGraph=extra.filter(function(name){return!_this.graph.nodes[name]});if(missing.length>0&&strictInputCheck){throw new Error("The dict provided in model.execute(dict) has the keys "+("["+inputKeys+"], but is missing the required keys: ["+missing+"]."))}if(extra.length>0&&strictInputCheck){throw new Error("The dict provided in model.execute(dict) has "+("unused keys: ["+extra+"]. Please provide only the following keys: ")+("["+this.inputNodes+"]."))}if(notInGraph.length>0){throw new Error("The dict provided in model.execute(dict) has "+("keys: ["+notInGraph+"] not part of model graph."))}};GraphExecutor.prototype.checkOutput=function(compiledNodes,outputs){var compiledNodeNames=compiledNodes.map(function(node){return node.name});var extra=[];outputs.forEach(function(name){if(compiledNodeNames.indexOf(name)===-1)extra.push(name)});if(extra.length>0){throw new Error("The following outputs are not be generated by the execution: "+("["+extra+"]."))}};return GraphExecutor}();exports.GraphExecutor=GraphExecutor},{"../operations/executors/utils":29,"../operations/operation_executor":45,"./execution_context":9,"@tensorflow/tfjs-core":55}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfjs_core_1=require("@tensorflow/tfjs-core");var TensorArray=function(){function TensorArray(name,dtype,maxSize,elementShape,identicalElementShapes,dynamicSize,clearAfterRead){this.name=name;this.dtype=dtype;this.maxSize=maxSize;this.elementShape=elementShape;this.identicalElementShapes=identicalElementShapes;this.dynamicSize=dynamicSize;this.clearAfterRead=clearAfterRead;this.tensors=[];this.closed_=false;this.id=TensorArray.nextId++}Object.defineProperty(TensorArray.prototype,"closed",{get:function(){return this.closed_},enumerable:true,configurable:true});TensorArray.prototype.clearAndClose=function(){this.tensors.forEach(function(tensor){return tensor.tensor.dispose()});this.tensors=[];this.closed_=true};TensorArray.prototype.size=function(){return this.tensors.length};TensorArray.prototype.read=function(index){if(this.closed_){throw new Error("TensorArray "+this.name+" has already been closed.")}if(index<0||index>=this.tensors.length){throw new Error("Tried to read from index "+index+", but array size is: "+this.tensors.length)}var tensorWithState=this.tensors[index];if(tensorWithState.cleared){throw new Error("TensorArray "+this.name+": Could not read index "+index+" twice because it was cleared after a previous read "+"(perhaps try setting clear_after_read = false?).")}if(this.clearAfterRead){tensorWithState.cleared=true}tensorWithState.read=true;return tensorWithState.tensor};TensorArray.prototype.readMany=function(indices){var _this=this;return indices.map(function(index){return _this.read(index)})};TensorArray.prototype.write=function(index,tensor){if(this.closed_){throw new Error("TensorArray "+this.name+" has already been closed.")}if(index<0||!this.dynamicSize&&index>=this.maxSize){throw new Error("Tried to write to index "+index+", but array is not resizeable and size is: "+this.maxSize)}var t=this.tensors[index]||{};if(tensor.dtype!==this.dtype){throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+index+",\n          because the value dtype is "+tensor.dtype+", but TensorArray dtype is "+this.dtype+".")}if(this.size()===0&&this.elementShape.length===0){this.elementShape=tensor.shape}this.assertShapesMatch(this.elementShape,tensor.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+index+".");if(t&&t.read){throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+index+", because it has already been read.")}if(t&&t.written){throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+index+", because it has already been written.")}t.tensor=tensor;t.written=true;this.tensors[index]=t};TensorArray.prototype.writeMany=function(indices,tensors){var _this=this;if(indices.length!==tensors.length){throw new Error("TensorArray "+this.name+": could not write multiple tensors,"+("because the index size: "+indices.length+" is not the same as tensors size: "+tensors.length+"."))}indices.forEach(function(i,index){return _this.write(i,tensors[index])})};TensorArray.prototype.gather=function(indices,dtype){if(!!dtype&&dtype!==this.dtype){throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+dtype)}if(!indices){indices=[];for(var i=0;i<this.size();i++){indices.push(i)}}if(indices.length===0){return tfjs_core_1.tensor([],[0].concat(this.elementShape))}var tensors=this.readMany(indices);this.assertShapesMatch(this.elementShape,tensors[0].shape,"TensorArray shape mismatch: ");return tfjs_core_1.stack(tensors,0)};TensorArray.prototype.concat=function(dtype){if(!!dtype&&dtype!==this.dtype){throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+dtype)}if(this.size()===0){return tfjs_core_1.tensor([],[0].concat(this.elementShape))}var indices=[];for(var i=0;i<this.size();i++){indices.push(i)}var tensors=this.readMany(indices);this.assertShapesMatch(this.elementShape,tensors[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+tensors[0].shape+")");return tfjs_core_1.concat(tensors,0)};TensorArray.prototype.scatter=function(indices,tensor){if(tensor.dtype!==this.dtype){throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+tensor.dtype)}if(indices.length!==tensor.shape[0]){throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+indices.length+" vs. "+tensor.shape[0])}var maxIndex=Math.max.apply(Math,indices);if(!this.dynamicSize&&maxIndex>=this.maxSize){throw new Error("Max index must be < array size ("+maxIndex+"  vs. "+this.maxSize+")")}this.writeMany(indices,tfjs_core_1.unstack(tensor,0))};TensorArray.prototype.split=function(length,tensor){var _this=this;if(tensor.dtype!==this.dtype){throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+tensor.dtype)}var totalLength=0;var cumulativeLengths=length.map(function(len){totalLength+=len;return totalLength});if(totalLength!==tensor.shape[0]){throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+totalLength+", and tensor's shape is: "+tensor.shape)}if(!this.dynamicSize&&length.length!==this.maxSize){throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+length.length+"), "+"and the TensorArray is not marked as dynamically resizeable")}var elementPerRow=totalLength===0?0:tensor.size/totalLength;var tensors=[];tfjs_core_1.tidy(function(){tensor=tensor.reshape([1,totalLength,elementPerRow]);for(var i=0;i<length.length;++i){var previousLength=i===0?0:cumulativeLengths[i-1];var indices_1=[0,previousLength,0];var sizes=[1,length[i],elementPerRow];tensors[i]=tfjs_core_1.slice(tensor,indices_1,sizes).reshape(_this.elementShape)}return tensors});var indices=[];for(var i=0;i<length.length;i++){indices[i]=i}this.writeMany(indices,tensors)};TensorArray.prototype.assertShapesMatch=function(shapeA,shapeB,errorMessagePrefix){if(errorMessagePrefix===void 0){errorMessagePrefix=""}tfjs_core_1.util.assert(this.arraysEqual(shapeA,shapeB),errorMessagePrefix+(" Shapes "+shapeA+" and "+shapeB+" must match"))};TensorArray.prototype.arraysEqual=function(n1,n2){if(n1.length!==n2.length){return false}for(var i=0;i<n1.length;i++){if(n1[i]!==-1&&n2[i]!==-1&&n1[i]!==n2[i]){return false}}return true};TensorArray.nextId=0;return TensorArray}();exports.TensorArray=TensorArray},{"@tensorflow/tfjs-core":55}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var frozen_model_1=require("./executor/frozen_model");exports.FrozenModel=frozen_model_1.FrozenModel;exports.loadFrozenModel=frozen_model_1.loadFrozenModel;var version_1=require("./version");exports.version_converter=version_1.version},{"./executor/frozen_model":10,"./version":47}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"add":{return[tfc.add(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"addN":{return[tfc.addN(utils_1.getParamValue("tensors",node,tensorMap,context))]}case"mod":return[tfc.mod(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))];case"mul":return[tfc.mul(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))];case"div":{return[tfc.div(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"floorDiv":{return[tfc.floorDiv(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"sub":{return[tfc.sub(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"minimum":{return[tfc.minimum(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"maximum":{return[tfc.maximum(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"pow":{return[tfc.pow(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"squaredDifference":{return[tfc.squaredDifference(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="arithmetic"},{"./utils":29,"@tensorflow/tfjs-core":55}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"abs":return[tfc.abs(utils_1.getParamValue("x",node,tensorMap,context))];case"acos":return[tfc.acos(utils_1.getParamValue("x",node,tensorMap,context))];case"acosh":return[tfc.acosh(utils_1.getParamValue("x",node,tensorMap,context))];case"asin":return[tfc.asin(utils_1.getParamValue("x",node,tensorMap,context))];case"asinh":return[tfc.asinh(utils_1.getParamValue("x",node,tensorMap,context))];case"atan":return[tfc.atan(utils_1.getParamValue("x",node,tensorMap,context))];case"atanh":return[tfc.atanh(utils_1.getParamValue("x",node,tensorMap,context))];case"ceil":return[tfc.ceil(utils_1.getParamValue("x",node,tensorMap,context))];case"cos":return[tfc.cos(utils_1.getParamValue("x",node,tensorMap,context))];case"cosh":return[tfc.cosh(utils_1.getParamValue("x",node,tensorMap,context))];case"elu":return[tfc.elu(utils_1.getParamValue("x",node,tensorMap,context))];case"erf":return[tfc.erf(utils_1.getParamValue("x",node,tensorMap,context))];case"exp":return[tfc.exp(utils_1.getParamValue("x",node,tensorMap,context))];case"expm1":{return[tfc.expm1(utils_1.getParamValue("x",node,tensorMap,context))]}case"floor":return[tfc.floor(utils_1.getParamValue("x",node,tensorMap,context))];case"log":return[tfc.log(utils_1.getParamValue("x",node,tensorMap,context))];case"log1p":{return[tfc.log1p(utils_1.getParamValue("x",node,tensorMap,context))]}case"neg":return[tfc.neg(utils_1.getParamValue("x",node,tensorMap,context))];case"reciprocal":{return[tfc.reciprocal(utils_1.getParamValue("x",node,tensorMap,context))]}case"relu":return[tfc.relu(utils_1.getParamValue("x",node,tensorMap,context))];case"round":{return[tfc.round(utils_1.getParamValue("x",node,tensorMap,context))]}case"selu":return[tfc.selu(utils_1.getParamValue("x",node,tensorMap,context))];case"sigmoid":return[tfc.sigmoid(utils_1.getParamValue("x",node,tensorMap,context))];case"sin":return[tfc.sin(utils_1.getParamValue("x",node,tensorMap,context))];case"sign":{return[tfc.sign(utils_1.getParamValue("x",node,tensorMap,context))]}case"sinh":{return[tfc.sinh(utils_1.getParamValue("x",node,tensorMap,context))]}case"softplus":{return[tfc.softplus(utils_1.getParamValue("x",node,tensorMap,context))]}case"sqrt":{return[tfc.sqrt(utils_1.getParamValue("x",node,tensorMap,context))]}case"square":{return[tfc.square(utils_1.getParamValue("x",node,tensorMap,context))]}case"tanh":{return[tfc.tanh(utils_1.getParamValue("x",node,tensorMap,context))]}case"tan":return[tfc.tan(utils_1.getParamValue("x",node,tensorMap,context))];case"clipByValue":return[tfc.clipByValue(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("clipValueMin",node,tensorMap,context),utils_1.getParamValue("clipValueMax",node,tensorMap,context))];case"rsqrt":return[tfc.div(tfc.scalar(1,"float32"),tfc.sqrt(utils_1.getTensor(node.inputNames[0],tensorMap,context)))];default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="basic_math"},{"./utils":29,"@tensorflow/tfjs-core":55}],16:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=y[op[0]&2?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[0,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var tfjs_core_1=require("@tensorflow/tfjs-core");var tensor_array_1=require("../../executor/tensor_array");var utils_1=require("./utils");function executeOp(node,tensorMap,context){return __awaiter(this,void 0,void 0,function(){var _a,pred,data_1,inputName,frameId,data,tensor,input,size,dtype,elementShape,dynamicSize,clearAfterRead,identicalElementShapes,name_1,tensorArray,id,index,writeTensor,writeTensorArray,readId,readIndex,readTensorArray,gatherId,gatherIndices,gatherDtype,gatherTensorArray,scatterId,scatterIndices,scatterTensor,scatterTensorArray,concatId,concatTensorArray,concatDtype,splitId,splitTensor,lengths,splitTensorArray,sizeId,sizeTensorArray,closeId,closeTensorArray;return __generator(this,function(_b){switch(_b.label){case 0:_a=node.op;switch(_a){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7];case"tensorArray":return[3,8];case"tensorArrayWrite":return[3,9];case"tensorArrayRead":return[3,10];case"tensorArrayGather":return[3,11];case"tensorArrayScatter":return[3,12];case"tensorArrayConcat":return[3,13];case"tensorArraySplit":return[3,14];case"tensorArraySize":return[3,15];case"tensorArrayClose":return[3,16]}return[3,17];case 1:return[2,[utils_1.getParamValue("pred",node,tensorMap,context)]];case 2:pred=utils_1.getParamValue("pred",node,tensorMap,context);data_1=utils_1.getParamValue("data",node,tensorMap,context);return[4,pred.data()];case 3:return[2,_b.sent()[0]?[undefined,data_1]:[data_1,undefined]];case 4:inputName=node.inputNames.find(function(name){return utils_1.getTensor(name,tensorMap,context)!==undefined});return[2,inputName?[utils_1.getTensor(inputName,tensorMap,context)]:undefined];case 5:frameId=utils_1.getParamValue("frameName",node,tensorMap,context);data=utils_1.getParamValue("tensor",node,tensorMap,context);context.enterFrame(frameId);return[2,[data]];case 6:tensor=utils_1.getParamValue("tensor",node,tensorMap,context);context.exitFrame();return[2,[tensor]];case 7:input=utils_1.getParamValue("tensor",node,tensorMap,context);context.nextIteration();return[2,[input]];case 8:size=utils_1.getParamValue("size",node,tensorMap,context);dtype=utils_1.getParamValue("dtype",node,tensorMap,context);elementShape=utils_1.getParamValue("elementShape",node,tensorMap,context);dynamicSize=utils_1.getParamValue("dynamicSize",node,tensorMap,context);clearAfterRead=utils_1.getParamValue("clearAfterRead",node,tensorMap,context);identicalElementShapes=utils_1.getParamValue("identicalElementShapes",node,tensorMap,context);name_1=utils_1.getParamValue("name",node,tensorMap,context);tensorArray=new tensor_array_1.TensorArray(name_1,dtype,size,elementShape,identicalElementShapes,dynamicSize,clearAfterRead);context.addTensorArray(tensorArray);return[2,[tfjs_core_1.scalar(tensorArray.id),tfjs_core_1.scalar(1)]];case 9:id=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);index=utils_1.getParamValue("index",node,tensorMap,context);writeTensor=utils_1.getParamValue("tensor",node,tensorMap,context);writeTensorArray=context.getTensorArray(id);writeTensorArray.write(index,writeTensor);return[2,[tfjs_core_1.scalar(1)]];case 10:readId=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);readIndex=utils_1.getParamValue("index",node,tensorMap,context);readTensorArray=context.getTensorArray(readId);return[2,[readTensorArray.read(readIndex)]];case 11:gatherId=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);gatherIndices=utils_1.getParamValue("indices",node,tensorMap,context);gatherDtype=utils_1.getParamValue("dtype",node,tensorMap,context);gatherTensorArray=context.getTensorArray(gatherId);return[2,[gatherTensorArray.gather(gatherIndices,gatherDtype)]];case 12:scatterId=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);scatterIndices=utils_1.getParamValue("indices",node,tensorMap,context);scatterTensor=utils_1.getParamValue("tensor",node,tensorMap,context);scatterTensorArray=context.getTensorArray(scatterId);scatterTensorArray.scatter(scatterIndices,scatterTensor);return[2,[tfjs_core_1.scalar(1)]];case 13:concatId=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);concatTensorArray=context.getTensorArray(concatId);concatDtype=utils_1.getParamValue("dtype",node,tensorMap,context);return[2,[concatTensorArray.concat(concatDtype)]];case 14:splitId=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);splitTensor=utils_1.getParamValue("tensor",node,tensorMap,context);lengths=utils_1.getParamValue("lengths",node,tensorMap,context);splitTensorArray=context.getTensorArray(splitId);splitTensorArray.split(lengths,splitTensor);return[2,[tfjs_core_1.scalar(1)]];case 15:sizeId=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);sizeTensorArray=context.getTensorArray(sizeId);return[2,[tfjs_core_1.scalar(sizeTensorArray.size(),"int32")]];case 16:closeId=utils_1.getParamValue("tensorArrayId",node,tensorMap,context);closeTensorArray=context.getTensorArray(closeId);closeTensorArray.clearAndClose();return[2,[]];case 17:throw TypeError("Node type "+node.op+" is not implemented")}})})}exports.executeOp=executeOp;exports.CATEGORY="control"},{"../../executor/tensor_array":12,"./utils":29,"@tensorflow/tfjs-core":55}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"conv1d":{var stride=utils_1.getParamValue("stride",node,tensorMap,context);var pad=utils_1.getParamValue("pad",node,tensorMap,context);var dataFormat=utils_1.getParamValue("dataFormat",node,tensorMap,context).toUpperCase();var dilation=utils_1.getParamValue("dilation",node,tensorMap,context);return[tfc.conv1d(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("filter",node,tensorMap,context),stride,pad,dataFormat,dilation)]}case"conv2d":{var stride=utils_1.getParamValue("strides",node,tensorMap,context);var pad=utils_1.getParamValue("pad",node,tensorMap,context);var dataFormat=utils_1.getParamValue("dataFormat",node,tensorMap,context).toUpperCase();var dilations=utils_1.getParamValue("dilations",node,tensorMap,context);return[tfc.conv2d(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("filter",node,tensorMap,context),[stride[1],stride[2]],pad,dataFormat,[dilations[0],dilations[1]])]}case"conv2dTranspose":{var shape=utils_1.getParamValue("outputShape",node,tensorMap,context);var stride=utils_1.getParamValue("strides",node,tensorMap,context);var pad=utils_1.getParamValue("pad",node,tensorMap,context);return[tfc.conv2dTranspose(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("filter",node,tensorMap,context),shape,[stride[1],stride[2]],pad)]}case"depthwiseConv2d":{var stride=utils_1.getParamValue("strides",node,tensorMap,context);var pad=utils_1.getParamValue("pad",node,tensorMap,context);var dilations=utils_1.getParamValue("dilations",node,tensorMap,context);var dataFormat=utils_1.getParamValue("dataFormat",node,tensorMap,context).toUpperCase();return[tfc.depthwiseConv2d(utils_1.getParamValue("input",node,tensorMap,context),utils_1.getParamValue("filter",node,tensorMap,context),[stride[1],stride[2]],pad,dataFormat,[dilations[0],dilations[1]])]}case"avgPool":{var stride=utils_1.getParamValue("strides",node,tensorMap,context);var pad=utils_1.getParamValue("pad",node,tensorMap,context);var kernelSize=utils_1.getParamValue("kernelSize",node,tensorMap,context);return[tfc.avgPool(utils_1.getParamValue("x",node,tensorMap,context),[kernelSize[1],kernelSize[2]],[stride[1],stride[2]],pad)]}case"maxPool":{var stride=utils_1.getParamValue("strides",node,tensorMap,context);var pad=utils_1.getParamValue("pad",node,tensorMap,context);var kernelSize=utils_1.getParamValue("kernelSize",node,tensorMap,context);return[tfc.maxPool(utils_1.getParamValue("x",node,tensorMap,context),[kernelSize[1],kernelSize[2]],[stride[1],stride[2]],pad)]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="convolution"},{"./utils":29,"@tensorflow/tfjs-core":55}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"fill":{var shape=utils_1.getParamValue("shape",node,tensorMap,context);var dtype=utils_1.getParamValue("dtype",node,tensorMap,context);var value=utils_1.getParamValue("value",node,tensorMap,context);return[tfc.fill(shape,value,dtype)]}case"linspace":{var start=utils_1.getParamValue("start",node,tensorMap,context);var stop_1=utils_1.getParamValue("stop",node,tensorMap,context);var num=utils_1.getParamValue("num",node,tensorMap,context);return[tfc.linspace(start,stop_1,num)]}case"oneHot":{var indices=utils_1.getParamValue("indices",node,tensorMap,context);var depth=utils_1.getParamValue("depth",node,tensorMap,context);var onValue=utils_1.getParamValue("onValue",node,tensorMap,context);var offValue=utils_1.getParamValue("offValue",node,tensorMap,context);return[tfc.oneHot(indices,depth,onValue,offValue)]}case"ones":{return[tfc.ones(utils_1.getParamValue("shape",node,tensorMap,context),utils_1.getParamValue("dtype",node,tensorMap,context))]}case"onesLike":{return[tfc.onesLike(utils_1.getParamValue("x",node,tensorMap,context))]}case"randomUniform":{return[tfc.randomUniform(utils_1.getParamValue("shape",node,tensorMap,context),utils_1.getParamValue("minval",node,tensorMap,context),utils_1.getParamValue("maxval",node,tensorMap,context),utils_1.getParamValue("dtype",node,tensorMap,context))]}case"range":{var start=utils_1.getParamValue("start",node,tensorMap,context);var stop_2=utils_1.getParamValue("stop",node,tensorMap,context);var step=utils_1.getParamValue("step",node,tensorMap,context);return[tfc.range(start,stop_2,step,utils_1.getParamValue("dtype",node,tensorMap,context))]}case"truncatedNormal":{var shape=utils_1.getParamValue("shape",node,tensorMap,context);var mean=utils_1.getParamValue("mean",node,tensorMap,context);var stdDev=utils_1.getParamValue("stdDev",node,tensorMap,context);var seed=utils_1.getParamValue("seed",node,tensorMap,context);return[tfc.truncatedNormal(shape,mean,stdDev,utils_1.getParamValue("dtype",node,tensorMap,context),seed)]}case"zeros":{return[tfc.zeros(utils_1.getParamValue("shape",node,tensorMap,context),utils_1.getParamValue("dtype",node,tensorMap,context))]}case"zerosLike":{return[tfc.zerosLike(utils_1.getParamValue("x",node,tensorMap,context))]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="creation"},{"./utils":29,"@tensorflow/tfjs-core":55}],19:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=y[op[0]&2?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[0,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");function executeOp(node,tensorMap,context){return __awaiter(this,void 0,void 0,function(){var _a,boxes,scores,maxOutputSize,iouThreshold,scoreThreshold;return __generator(this,function(_b){switch(_b.label){case 0:_a=node.op;switch(_a){case"nonMaxSuppression":return[3,1];case"whereAsync":return[3,3]}return[3,5];case 1:boxes=utils_1.getParamValue("boxes",node,tensorMap,context);scores=utils_1.getParamValue("scores",node,tensorMap,context);maxOutputSize=utils_1.getParamValue("maxOutputSize",node,tensorMap,context);iouThreshold=utils_1.getParamValue("iouThreshold",node,tensorMap,context);scoreThreshold=utils_1.getParamValue("scoreThreshold",node,tensorMap,context);return[4,tfc.image.nonMaxSuppressionAsync(boxes,scores,maxOutputSize,iouThreshold,scoreThreshold)];case 2:return[2,[_b.sent()]];case 3:return[4,tfc.whereAsync(utils_1.getParamValue("condition",node,tensorMap,context))];case 4:return[2,[_b.sent()]];case 5:throw TypeError("Node type "+node.op+" is not implemented")}})})}exports.executeOp=executeOp;exports.CATEGORY="dynamic"},{"./utils":29,"@tensorflow/tfjs-core":55}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"topK":{var x=utils_1.getParamValue("x",node,tensorMap,context);var k=utils_1.getParamValue("k",node,tensorMap,context);var sorted=utils_1.getParamValue("sorted",node,tensorMap,context);var result=tfc.topk(x,k,sorted);return[result.values,result.indices]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="evaluation"},{"./utils":29,"@tensorflow/tfjs-core":55}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"const":{return tensorMap[node.name]}case"placeholder":var def=utils_1.getParamValue("default",node,tensorMap,context);return[utils_1.getTensor(node.name,tensorMap,context)||def];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":return[utils_1.getParamValue("x",node,tensorMap,context)];case"snapshot":var snapshot=utils_1.getParamValue("x",node,tensorMap,context);return[snapshot.clone()];case"shape":return[tfc.tensor1d(utils_1.getParamValue("x",node,tensorMap,context).shape,"int32")];case"shapeN":return utils_1.getParamValue("x",node,tensorMap,context).map(function(t){return tfc.tensor1d(t.shape)});case"size":return[tfc.scalar(utils_1.getParamValue("x",node,tensorMap,context).size,"int32")];case"rank":return[tfc.scalar(utils_1.getParamValue("x",node,tensorMap,context).rank,"int32")];case"noop":return[];case"print":var input=utils_1.getParamValue("x",node,tensorMap,context);var data=utils_1.getParamValue("data",node,tensorMap,context);var message=utils_1.getParamValue("message",node,tensorMap,context);var summarize=utils_1.getParamValue("summarize",node,tensorMap,context);console.warn("The graph has a tf.print() operation,"+"usually used for debugging, which slows down performance.");console.log(message);for(var i=0;i<data.length;i++){console.log(Array.prototype.slice.call(data[0].dataSync()).slice(0,summarize))}return[input];default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="graph"},{"./utils":29,"@tensorflow/tfjs-core":55}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"resizeBilinear":{var images=utils_1.getParamValue("images",node,tensorMap,context);var size=utils_1.getParamValue("size",node,tensorMap,context);var alignCorners=utils_1.getParamValue("alignCorners",node,tensorMap,context);return[tfc.image.resizeBilinear(images,[size[0],size[1]],alignCorners)]}case"resizeNearestNeighbor":{var images=utils_1.getParamValue("images",node,tensorMap,context);var size=utils_1.getParamValue("size",node,tensorMap,context);var alignCorners=utils_1.getParamValue("alignCorners",node,tensorMap,context);return[tfc.image.resizeNearestNeighbor(images,[size[0],size[1]],alignCorners)]}case"cropAndResize":{var image=utils_1.getParamValue("image",node,tensorMap,context);var boxes=utils_1.getParamValue("boxes",node,tensorMap,context);var boxInd=utils_1.getParamValue("boxInd",node,tensorMap,context);var cropSize=utils_1.getParamValue("cropSize",node,tensorMap,context);var method=utils_1.getParamValue("method",node,tensorMap,context);var extrapolationValue=utils_1.getParamValue("extrapolationValue",node,tensorMap,context);return[tfc.image.cropAndResize(image,boxes,boxInd,cropSize,method,extrapolationValue)]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="image"},{"./utils":29,"@tensorflow/tfjs-core":55}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"equal":{return[tfc.equal(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"notEqual":{return[tfc.notEqual(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"greater":{return[tfc.greater(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"greaterEqual":{return[tfc.greaterEqual(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"less":{return[tfc.less(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"lessEqual":{return[tfc.lessEqual(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"logicalAnd":{return[tfc.logicalAnd(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"logicalNot":{return[tfc.logicalNot(utils_1.getParamValue("a",node,tensorMap,context))]}case"logicalOr":{return[tfc.logicalOr(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}case"where":{return[tfc.where(utils_1.getParamValue("condition",node,tensorMap,context),utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context))]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="logical"},{"./utils":29,"@tensorflow/tfjs-core":55}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"matMul":return[tfc.matMul(utils_1.getParamValue("a",node,tensorMap,context),utils_1.getParamValue("b",node,tensorMap,context),utils_1.getParamValue("transposeA",node,tensorMap,context),utils_1.getParamValue("transposeB",node,tensorMap,context))];case"transpose":return[tfc.transpose(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("perm",node,tensorMap,context))];default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="matrices"},{"./utils":29,"@tensorflow/tfjs-core":55}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"batchNormalization":{return[tfc.batchNormalization(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("mean",node,tensorMap,context),utils_1.getParamValue("variance",node,tensorMap,context),utils_1.getParamValue("epsilon",node,tensorMap,context),utils_1.getParamValue("scale",node,tensorMap,context),utils_1.getParamValue("offset",node,tensorMap,context))]}case"localResponseNormalization":{return[tfc.localResponseNormalization(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("radius",node,tensorMap,context),utils_1.getParamValue("bias",node,tensorMap,context),utils_1.getParamValue("alpha",node,tensorMap,context),utils_1.getParamValue("beta",node,tensorMap,context))]}case"softmax":{return[tfc.softmax(utils_1.getParamValue("x",node,tensorMap,context))]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="normalization"},{"./utils":29,"@tensorflow/tfjs-core":55}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"max":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var keepDims=utils_1.getParamValue("keepDims",node,tensorMap,context);return[tfc.max(utils_1.getParamValue("x",node,tensorMap,context),axis,keepDims)]}case"mean":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var keepDims=utils_1.getParamValue("keepDims",node,tensorMap,context);return[tfc.mean(utils_1.getParamValue("x",node,tensorMap,context),axis,keepDims)]}case"min":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var keepDims=utils_1.getParamValue("keepDims",node,tensorMap,context);return[tfc.min(utils_1.getParamValue("x",node,tensorMap,context),axis,keepDims)]}case"sum":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var keepDims=utils_1.getParamValue("keepDims",node,tensorMap,context);return[tfc.sum(utils_1.getParamValue("x",node,tensorMap,context),axis,keepDims)]}case"all":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var keepDims=utils_1.getParamValue("keepDims",node,tensorMap,context);return[tfc.all(utils_1.getParamValue("x",node,tensorMap,context),axis,keepDims)]}case"any":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var keepDims=utils_1.getParamValue("keepDims",node,tensorMap,context);return[tfc.any(utils_1.getParamValue("x",node,tensorMap,context),axis,keepDims)]}case"argMax":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);return[tfc.argMax(utils_1.getParamValue("x",node,tensorMap,context),axis)]}case"argMin":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);return[tfc.argMin(utils_1.getParamValue("x",node,tensorMap,context),axis)]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="reduction"},{"./utils":29,"@tensorflow/tfjs-core":55}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"concat":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var inputs=utils_1.getParamValue("tensors",node,tensorMap,context);return[tfc.concat(inputs,axis)]}case"gather":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var input=utils_1.getParamValue("x",node,tensorMap,context);var indices=utils_1.getParamValue("indices",node,tensorMap,context);return[tfc.gather(input,indices,axis)]}case"reverse":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var input=utils_1.getParamValue("x",node,tensorMap,context);return[tfc.reverse(input,axis)]}case"slice":{var begin=utils_1.getParamValue("begin",node,tensorMap,context);var size=utils_1.getParamValue("size",node,tensorMap,context);return[tfc.slice(utils_1.getParamValue("x",node,tensorMap,context),begin,size)]}case"stridedSlice":{var begin=utils_1.getParamValue("begin",node,tensorMap,context);var end=utils_1.getParamValue("end",node,tensorMap,context);var strides=utils_1.getParamValue("strides",node,tensorMap,context);var beginMask=utils_1.getParamValue("beginMask",node,tensorMap,context);var endMask=utils_1.getParamValue("endMask",node,tensorMap,context);var ellipsisMask=utils_1.getParamValue("ellipsisMask",node,tensorMap,context);var newAxisMask=utils_1.getParamValue("newAxisMask",node,tensorMap,context);var shrinkAxisMask=utils_1.getParamValue("shrinkAxisMask",node,tensorMap,context);var tensor=utils_1.getParamValue("x",node,tensorMap,context);if(begin.length===1&&tensor.shape.length>1){for(var i=1;i<tensor.shape.length;i++){begin.push(0);end.push(tensor.shape[i]);strides.push(strides[0])}}return[tfc.stridedSlice(tensor,begin,end,strides,beginMask,endMask,ellipsisMask,newAxisMask,shrinkAxisMask)]}case"stack":{return tfc.tidy(function(){var axis=utils_1.getParamValue("axis",node,tensorMap,context);var tensors=utils_1.getParamValue("tensors",node,tensorMap,context);var shape=tensors[0].shape;var squeezedShape=tensors[0].squeeze().shape;var mapped=tensors.map(function(tensor){var sameShape=tfc.util.arraysEqual(tensor.shape,shape);if(!sameShape&&!tfc.util.arraysEqual(tensor.squeeze().shape,squeezedShape)){throw new Error("the input tensors shape does not match")}return sameShape?tensor:tensor.reshape(shape)});return[tfc.stack(mapped,axis)]})}case"unstack":{return tfc.tidy(function(){var axis=utils_1.getParamValue("axis",node,tensorMap,context);var tensor=utils_1.getParamValue("tensor",node,tensorMap,context);return tfc.unstack(tensor,axis)})}case"tile":{var reps=utils_1.getParamValue("reps",node,tensorMap,context);return[tfc.tile(utils_1.getParamValue("x",node,tensorMap,context),reps)]}case"split":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);var numOrSizeSplits=utils_1.getParamValue("numOrSizeSplits",node,tensorMap,context);return tfc.split(utils_1.getParamValue("x",node,tensorMap,context),numOrSizeSplits,axis)}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="slice_join"},{"./utils":29,"@tensorflow/tfjs-core":55}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tfc=require("@tensorflow/tfjs-core");var utils_1=require("./utils");exports.executeOp=function(node,tensorMap,context){switch(node.op){case"cast":{return[tfc.cast(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("dtype",node,tensorMap,context))]}case"expandDims":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);return[tfc.expandDims(utils_1.getParamValue("x",node,tensorMap,context),axis)]}case"squeeze":{var axis=utils_1.getParamValue("axis",node,tensorMap,context);return[tfc.squeeze(utils_1.getParamValue("x",node,tensorMap,context),axis)]}case"reshape":{return[tfc.reshape(utils_1.getParamValue("x",node,tensorMap,context),utils_1.getParamValue("shape",node,tensorMap,context))]}case"pad":{return[tfc.pad(utils_1.getParamValue("x",node,tensorMap,context),utils_1.split(utils_1.getParamValue("padding",node,tensorMap,context),2),utils_1.getParamValue("constantValue",node,tensorMap,context))]}case"spaceToBatchND":{var blockShape=utils_1.getParamValue("blockShape",node,tensorMap,context);var paddings=utils_1.split(utils_1.getParamValue("paddings",node,tensorMap,context),2);return[tfc.spaceToBatchND(utils_1.getParamValue("x",node,tensorMap,context),blockShape,paddings)]}case"batchToSpaceND":{var blockShape=utils_1.getParamValue("blockShape",node,tensorMap,context);var crops=utils_1.split(utils_1.getParamValue("crops",node,tensorMap,context),2);return[tfc.batchToSpaceND(utils_1.getParamValue("x",node,tensorMap,context),blockShape,crops)]}default:throw TypeError("Node type "+node.op+" is not implemented")}};exports.CATEGORY="transformation"},{"./utils":29,"@tensorflow/tfjs-core":55}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getParamValue(paramName,node,tensorMap,context){var param=node.params[paramName];if(param&&param.inputIndex!==undefined){if(param.type==="tensor"){return getTensor(node.inputNames[param.inputIndex],tensorMap,context)}if(param.type==="tensors"){var inputs=param.inputIndex===0?param.inputParamLength===0?node.inputNames:node.inputNames.slice(param.inputIndex,-param.inputParamLength):node.inputNames.splice(param.inputIndex);return inputs.map(function(name){return getTensor(name,tensorMap,context)})}var data=Array.prototype.slice.call(getTensor(node.inputNames.slice(param.inputIndex)[0],tensorMap,context).dataSync());return param.type==="number"?data[0]:data}return param&&param.value}exports.getParamValue=getParamValue;function getTensor(name,tensorsMap,context){var _a=parseNodeName(name),nodeName=_a[0],index=_a[1];var contextId=context.currentContextIds.find(function(contextId){return!!tensorsMap[getNodeNameWithContextId(nodeName,contextId)]});return contextId!==undefined?tensorsMap[getNodeNameWithContextId(nodeName,contextId)][index]:undefined}exports.getTensor=getTensor;function getNodeNameAndIndex(inputName,context){var _a=parseNodeName(inputName),nodeName=_a[0],index=_a[1];return[getNodeNameWithContextId(nodeName,context&&context.currentContextId),index]}exports.getNodeNameAndIndex=getNodeNameAndIndex;function getNodeNameWithContextId(name,contextId){return!!contextId?name+"-"+contextId:name}function parseNodeName(name){var index=name.lastIndexOf(":");if(index===-1)return[name,0];var nodeName=name.substring(0,index);return[nodeName,Number(name.substring(index+1))]}exports.parseNodeName=parseNodeName;function split(arr,size){var res=[];for(var i=0;i<arr.length;i+=size){res.push(arr.slice(i,i+size))}return res}exports.split=split},{}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"Add",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"AddN",dlOpName:"addN",category:"arithmetic",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Sub",dlOpName:"sub",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"RealDiv",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Div",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"FloorDiv",dlOpName:"floorDiv",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Mul",dlOpName:"mul",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Maximum",dlOpName:"maximum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Minimum",dlOpName:"minimum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Pow",dlOpName:"pow",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"SquaredDifference",dlOpName:"squaredDifference",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Mod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"FloorMod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]}]},{}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"Abs",dlOpName:"abs",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Acos",dlOpName:"acos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Asin",dlOpName:"asin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"atan",dlOpName:"atan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Ceil",dlOpName:"ceil",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"ClipByValue",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"clip_value_min",dlParamName:"clipValueMin",type:"number"},{tfParamName:"clip_value_max",dlParamName:"clipValueMax",type:"number"}]},{tfOpName:"Cos",dlOpName:"cos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Cosh",dlOpName:"cosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Elu",dlOpName:"elu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Exp",dlOpName:"exp",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Floor",dlOpName:"floor",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Log",dlOpName:"log",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Neg",dlOpName:"neg",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Relu",dlOpName:"relu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Relu6",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true},{dlParamName:"clipValueMin",type:"number",defaultValue:0},{dlParamName:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",dlOpName:"selu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Sigmoid",dlOpName:"sigmoid",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Sin",dlOpName:"sin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Sinh",dlOpName:"sinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Sqrt",dlOpName:"sqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Rsqrt",dlOpName:"rsqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Square",dlOpName:"square",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Tan",dlOpName:"tan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Tanh",dlOpName:"tanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Sign",dlOpName:"sign",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Round",dlOpName:"round",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Expm1",dlOpName:"expm1",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Log1p",dlOpName:"log1p",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Softplus",dlOpName:"softplus",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Asinh",dlOpName:"asinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Acosh",dlOpName:"acosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Atanh",dlOpName:"atanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Erf",dlOpName:"erf",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]}]},{}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"LoopCond",dlOpName:"loopCond",category:"control",params:[{tfInputIndex:0,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Switch",dlOpName:"switch",category:"control",params:[{tfInputIndex:0,dlParamName:"data",type:"tensor"},{tfInputIndex:1,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Merge",dlOpName:"merge",category:"control",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"Enter",dlOpName:"enter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true},{tfParamName:"frame_name",dlParamName:"frameName",type:"string"},{tfParamName:"is_constant",dlParamName:"isConstant",type:"bool"}]},{tfOpName:"Exit",dlOpName:"exit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"NextIteration",dlOpName:"nextIteration",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"TensorArrayV3",dlOpName:"tensorArray",category:"control",params:[{tfInputIndex:0,dlParamName:"size",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"},{tfParamName:"dynamic_size",dlParamName:"dynamicSize",type:"bool"},{tfParamName:"clear_after_read",dlParamName:"clearAfterRead",type:"bool"},{tfParamName:"identical_element_shapes",dlParamName:"identicalElementShapes",type:"bool"},{tfParamName:"tensor_array_name",dlParamName:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",dlOpName:"tensorArrayWrite",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"TensorArrayReadV3",dlOpName:"tensorArrayRead",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"TensorArrayGatherV3",dlOpName:"tensorArrayGather",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",dlOpName:"tensorArrayScatter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",dlOpName:"tensorArrayConcat",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape_except0",dlParamName:"elementShapeExcept0",type:"shape",notSupported:true}]},{tfOpName:"TensorArraySplitV3",dlOpName:"tensorArraySplit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"tensor",type:"tensor"},{tfInputIndex:2,dlParamName:"lengths",type:"number[]"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",dlOpName:"tensorArraySize",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",dlOpName:"tensorArrayClose",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"}]}]},{}],33:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"AvgPool",dlOpName:"avgPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:true},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"MaxPool",dlOpName:"maxPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:true},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Conv1D",dlOpName:"conv1d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"stride",dlParamName:"stride",type:"number"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NWC"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true},{tfParamName:"dilation",dlParamName:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",dlOpName:"conv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"useCudnnOnGpu",dlParamName:"useCudnnOnGpu",type:"bool"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",dlOpName:"conv2dTranspose",category:"convolution",params:[{tfInputIndex:2,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfInputIndex:0,dlParamName:"outputShape",type:"number[]"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:true}]},{tfOpName:"DepthwiseConv2d",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]}]},{}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"Fill",dlOpName:"fill",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfInputIndex:1,dlParamName:"value",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",dlOpName:"linspace",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"num",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"OneHot",dlOpName:"oneHot",category:"creation",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"depth",type:"number"},{tfInputIndex:2,dlParamName:"onValue",type:"number",defaultValue:1},{tfInputIndex:3,dlParamName:"offValue",type:"number",defaultValue:0},{tfParamName:"axis",dlParamName:"axis",type:"number",notSupported:true},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Ones",dlOpName:"ones",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",dlOpName:"onesLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",dlOpName:"randomUniform",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"minval",dlParamName:"minval",type:"number",defaultValue:0},{tfParamName:"maxval",dlParamName:"maxval",type:"number",defaultValue:1},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"seed",dlParamName:"seed",type:"number",defaultValue:0},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:true},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:true}]},{tfOpName:"Range",dlOpName:"range",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"step",type:"number",defaultValue:0},{tfParamName:"Tidx",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"truncatedNormal",dlOpName:"truncatedNormal",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"means",dlParamName:"mean",type:"number",defaultValue:0},{tfParamName:"stddev",dlParamName:"stdDev",type:"number",defaultValue:1},{tfParamName:"seed",dlParamName:"seed",type:"number"},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:true},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:true}]},{tfOpName:"Zeros",dlOpName:"zeros",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",dlOpName:"zerosLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]}]},{}],35:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"NonMaxSuppressionV2",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"},{tfInputIndex:4,dlParamName:"scoreThreshold",type:"number"}]},{tfOpName:"Where",dlOpName:"whereAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]}]},{}],36:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"TopKV2",dlOpName:"topK",category:"evaluation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"k",type:"number"},{tfParamName:"sorted",dlParamName:"sorted",type:"bool"}]}]},{}],37:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"PlaceholderWithDefault",dlOpName:"placeholder",category:"graph",params:[{tfInputIndex:0,dlParamName:"default",type:"tensor"},{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",dlOpName:"placeholder",category:"graph",params:[{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Const",dlOpName:"const",category:"graph"},{tfOpName:"Identity",dlOpName:"identity",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Snapshot",dlOpName:"snapshot",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Rank",dlOpName:"rank",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Size",dlOpName:"size",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Shape",dlOpName:"shape",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"ShapeN",dlOpName:"shapeN",category:"graph",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"x",type:"tensors"}]},{tfOpName:"Print",dlOpName:"print",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfInputParamLength:1,dlParamName:"data",type:"tensors"},{tfParamName:"message",dlParamName:"message",type:"string"},{tfParamName:"first_n",dlParamName:"firstN",type:"number",notSupprted:true},{tfParamName:"summarize",dlParamName:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",dlOpName:"noop",category:"graph",params:[]},{tfOpName:"StopGradient",dlOpName:"stopGradient",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",dlOpName:"fakeQuantWithMinMaxVars",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"min",dlParamName:"min",type:"number"},{tfParamName:"max",dlParamName:"max",type:"number"}]}]},{}],38:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"ResizeBilinear",dlOpName:"resizeBilinear",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"ResizeNearestNeighbor",dlOpName:"resizeNearestNeighbor",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"CropAndResize",dlOpName:"cropAndResize",category:"image",params:[{tfInputIndex:0,dlParamName:"image",type:"tensor"},{tfInputIndex:1,dlParamName:"boxes",type:"tensor"},{tfInputIndex:2,dlParamName:"boxInd",type:"tensor"},{tfInputIndex:3,dlParamName:"cropSize",type:"number[]"},{tfParamName:"method",dlParamName:"method",type:"string"},{tfParamName:"extrapolation_value",dlParamName:"extrapolationValue",type:"number"}]}]},{}],39:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"Equal",dlOpName:"equal",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"NotEqual",dlOpName:"notEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Greater",dlOpName:"greater",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"GreaterEqual",dlOpName:"greaterEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Less",dlOpName:"less",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"LessEqual",dlOpName:"lessEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"LogicalAnd",dlOpName:"logicalAnd",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"LogicalNot",dlOpName:"logicalNot",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"LogicalOr",dlOpName:"logicalOr",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Select",dlOpName:"where",category:"logical",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfInputIndex:1,dlParamName:"a",type:"tensor"},{tfInputIndex:2,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]}]},{}],40:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"MatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"transpose_a",dlParamName:"transposeA",type:"bool",defaultValue:false},{tfParamName:"transpose_b",dlParamName:"transposeB",type:"bool",defaultValue:false},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"BatchMatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"adj_x",dlParamName:"transposeA",type:"bool",defaultValue:false},{tfParamName:"adj_y",dlParamName:"transposeB",type:"bool",defaultValue:false},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]},{tfOpName:"Transpose",dlOpName:"transpose",category:"matrices",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"perm",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:true}]}]},{}],41:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"FusedBatchNorm",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:true}]},{tfOpName:"FusedBatchNormV2",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:true}]},{tfOpName:"LRN",dlOpName:"localResponseNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"depth_radius",dlParamName:"radius",type:"number",defaultValue:5},{tfParamName:"bias",dlParamName:"bias",type:"number",defaultValue:1},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:1},{tfParamName:"beta",dlParamName:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",dlOpName:"softmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]}]},{}],42:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.json=[{tfOpName:"Max",dlOpName:"max",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{